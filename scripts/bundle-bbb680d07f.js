!function(){return function e(t,r,o){function n(s,i){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!i&&c)return c(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){return n(t[s][1][e]||e)},l,l.exports,e,t,r,o)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}}()({"/root/repo/app/scripts/actions/index.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createReport=r.user=r.clearUploadState=r.readReport=r.forms=r.getTags=r.getStaticEmergencyAssets=r.getStaticCountryAssets=r.getEmergency=r.getFeaturedEmergencies=r.getEmergencies=r.getCountries=r.deleteReport=r.postReport=r.patchReport=r.getReportVersions=r.getReport=r.getReportsWithQs=r.getReports=void 0;var o=l(e("promise-polyfill")),n=l(e("url")),a=e("redux-action-creator"),s=l(e("axios")),i=e("object-path"),c=l(e("./types")),u=e("../config");function l(e){return e&&e.__esModule?e:{default:e}}r.getReports=(0,a.asyncActionCreator)(c.default.GET_REPORTS,function(){return s.default.get(n.default.resolve(u.api,"reports"))}),r.getReportsWithQs=(0,a.asyncActionCreator)(c.default.GET_REPORTS,"qs",function(e){var t=e.qs;return s.default.get(n.default.resolve(u.api,"reports"+t))});var p=function(e){return s.default.get(n.default.resolve(u.api,"reports?id=eq."+e),{headers:{Accept:"application/vnd.pgrst.object+json"}})},f=function(e){return s.default.get(n.default.resolve(u.api,"reports?id=eq."+e+"&select=id,tags(name)"),{headers:{Accept:"application/vnd.pgrst.object+json"}})},d=(r.getReport=(0,a.asyncActionCreator)(c.default.GET_REPORT,"id",function(e){var t=e.id;return s.default.all([p(t),f(t)]).then(s.default.spread(function(e,t){return(0,i.set)(e,"data.tags",(0,i.get)(t,"data.tags"),[]),o.default.resolve(e)}))}),r.getReportVersions=(0,a.asyncActionCreator)(c.default.GET_REPORT_VERSIONS,"docID",function(e){var t=e.docID;return s.default.get(n.default.resolve(u.api,"reports?doc_id=eq."+t+"&select=id,created_at,doc_id,name"))}),r.patchReport=(0,a.asyncActionCreator)(c.default.PATCH_REPORT,"id","payload",function(e){var t=e.id,r=e.payload;return s.default.patch(n.default.resolve(u.api,"reports?id=eq."+t),r,{headers:{Prefer:"return=representation",Accept:"application/vnd.pgrst.object+json"}})}),r.postReport=(0,a.asyncActionCreator)(c.default.POST_REPORT,"payload","lastReport","tags",function(e){var t=e.payload,r=e.tags,a=Object.assign({},t);return delete a.author,s.default.post(n.default.resolve(u.api,"reports"),a,{headers:{Prefer:"return=representation",Accept:"application/vnd.pgrst.object+json"}}).then(function(e){if(!r||!r.length)return o.default.resolve(e);var t=e.data.id,a=r.map(function(e){return{report_id:t,tag_id:e}});return s.default.post(n.default.resolve(u.api,"reports_tags"),a).then(function(){return o.default.resolve(e)}).catch(function(e){return o.default.reject(e)})})}),function(e){return s.default.delete(n.default.resolve(u.api,"reports?id=eq."+e))}),m=function(e){return s.default.delete(n.default.resolve(u.api,"report_tags?report_id=eq."+e))};r.deleteReport=(0,a.asyncActionCreator)(c.default.DELETE_REPORT,"id",function(e){var t=e.id;return s.default.all([d(t),m(t)]).then(s.default.spread(function(){return o.default.resolve(!0)}))}),r.getCountries=(0,a.asyncActionCreator)(c.default.GET_COUNTRIES,function(){return s.default.get(n.default.resolve(u.goApi,"country/?limit=300"))}),r.getEmergencies=(0,a.asyncActionCreator)(c.default.GET_EMERGENCIES,"qs",function(e){return s.default.get(n.default.resolve(u.goApi,"event/"+(e&&"?"+e.qs)))}),r.getFeaturedEmergencies=(0,a.asyncActionCreator)(c.default.GET_FEATURED_EMERGENCIES,function(){return s.default.get(n.default.resolve(u.siteRoot,"static/featured-emergencies.json"))}),r.getEmergency=(0,a.asyncActionCreator)(c.default.GET_EMERGENCY,"emergencyID",function(e){var t=e.emergencyID;return s.default.get(n.default.resolve(u.goApi,"event/"+t))}),r.getStaticCountryAssets=(0,a.asyncActionCreator)(c.default.GET_STATIC_COUNTRY_ASSETS,"countryID",function(e){var t=e.countryID;return s.default.get(n.default.resolve(u.siteRoot,"static/country/"+t+".json"))}),r.getStaticEmergencyAssets=(0,a.asyncActionCreator)(c.default.GET_STATIC_EMERGENCY_ASSETS,"emergencyID",function(e){var t=e.emergencyID;return s.default.get(n.default.resolve(u.siteRoot,"static/emergency/"+t+".json"))}),r.getTags=(0,a.asyncActionCreator)(c.default.GET_TAGS,function(){return s.default.get(n.default.resolve(u.api,"tags"))}),r.forms={create:(0,a.actionCreator)(c.default.CREATE_FORM,"formID","initialValue"),update:(0,a.actionCreator)(c.default.UPDATE_FORM,"formID","value"),destroy:(0,a.actionCreator)(c.default.DESTROY_FORM,"formID")},r.readReport={readReportStart:(0,a.actionCreator)(c.default.READ_REPORT),readReportFail:(0,a.actionCreator)(c.default.READ_REPORT_FAIL,"error"),readReportSuccess:(0,a.actionCreator)(c.default.READ_REPORT_SUCCESS,"report")},r.clearUploadState=(0,a.actionCreator)(c.default.CLEAR_UPLOAD_REPORT_STATE),r.user={setCredentials:(0,a.actionCreator)(c.default.SET_USER_CREDENTIALS,"accessToken","idToken","expiresAt","email"),clearCredentials:(0,a.actionCreator)(c.default.CLEAR_USER_CREDENTIALS)},r.createReport={sync:(0,a.actionCreator)(c.default.CREATE_REPORT_SYNC,"value"),clear:(0,a.actionCreator)(c.default.CREATE_REPORT_CLEAR)}},{"../config":"/root/repo/app/scripts/config.js","./types":"/root/repo/app/scripts/actions/types.js",axios:"axios","object-path":"object-path","promise-polyfill":"promise-polyfill","redux-action-creator":"redux-action-creator",url:"/root/repo/node_modules/url/url.js"}],"/root/repo/app/scripts/actions/types.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("redux-action-creator");function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var a=(0,o.createTypes)([].concat(n((0,o.async)("GET_REPORTS")),n((0,o.async)("GET_REPORT")),n((0,o.async)("PATCH_REPORT")),n((0,o.async)("GET_REPORT_VERSIONS")),n((0,o.async)("READ_REPORT")),n((0,o.async)("POST_REPORT")),n((0,o.async)("DELETE_REPORT")),n((0,o.async)("GET_COUNTRIES")),n((0,o.async)("GET_EMERGENCIES")),n((0,o.async)("GET_EMERGENCY")),n((0,o.async)("GET_FEATURED_EMERGENCIES")),n((0,o.async)("GET_STATIC_COUNTRY_ASSETS")),n((0,o.async)("GET_STATIC_EMERGENCY_ASSETS")),n((0,o.async)("GET_TAGS")),["SET_USER_CREDENTIALS","CLEAR_USER_CREDENTIALS","CLEAR_UPLOAD_REPORT_STATE","CREATE_REPORT_SYNC","CREATE_REPORT_CLEAR","CREATE_FORM","UPDATE_FORM","DESTROY_FORM"]));r.default=a},{"redux-action-creator":"redux-action-creator"}],"/root/repo/app/scripts/components/app.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=s(e("react")),a=s(e("./nav"));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),o(t,[{key:"render",value:function(){return n.default.createElement(n.default.Fragment,null,n.default.createElement(a.default,null),n.default.createElement("main",{className:"main"},this.props.children||null))}}]),t}();r.default=i},{"./nav":"/root/repo/app/scripts/components/nav.js",react:"react"}],"/root/repo/app/scripts/components/async-status.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=e("react"),s=(o=a)&&o.__esModule?o:{default:o},i=e("react-redux");var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),n(t,[{key:"renderLoading",value:function(){return s.default.createElement("span",{className:"status async__loading collecticons collecticons-arrow-spin-ccw"})}},{key:"renderError",value:function(e){return s.default.createElement("span",{className:"status error"},s.default.createElement("span",{className:"error__icon collecticons-circle-exclamation"})," ",e.message)}},{key:"render",value:function(){var e=this.props,t=e.loading,r=e.error;return s.default.createElement("div",null,s.default.createElement("div",{className:"async"},t?this.renderLoading():r?this.renderError(r):null))}}]),t}();r.default=(0,i.connect)(function(e){return{loading:e.async.loading,error:e.async.error}})(c)},{react:"react","react-redux":"react-redux"}],"/root/repo/app/scripts/components/auth.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.authorize=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=m(e("react")),s=e("react-redux"),i=e("react-router-dom"),c=m(e("auth0-js")),u=m(e("classnames")),l=m(e("axios")),p=e("object-path"),f=e("../actions"),d=e("../config");function m(e){return e&&e.__esModule?e:{default:e}}var h=new c.default.WebAuth({domain:d.authDomain,clientID:d.authClientID,redirectUri:d.authRedirectUri,responseType:"token id_token",scope:"openid role email"}),y=(r.authorize=h.authorize.bind(h),function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.login=r.login.bind(r),r.logout=r.logout.bind(r),r.handleAuthentication=r.handleAuthentication.bind(r),r.renewSession=r.renewSession.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){"true"===localStorage.getItem("isLoggedIn")&&this.renewSession(),/access_token|id_token|error/.test(this.props.location.pathname)&&this.handleAuthentication()}},{key:"componentDidUpdate",value:function(){/access_token|id_token|error/.test(this.props.location.pathname)&&this.handleAuthentication()}},{key:"login",value:function(e){e&&"function"===typeof e.preventDefault&&e.preventDefault(),h.authorize()}},{key:"logout",value:function(e){e&&"function"===typeof e.preventDefault&&e.preventDefault(),this.props.clearCredentials(),localStorage.removeItem("isLoggedIn"),this.props.history.replace("/")}},{key:"handleAuthentication",value:function(){var e=this;h.parseHash(function(t,r){r&&r.accessToken&&r.idToken?e.setSession(r):t&&(e.props.history.replace("/"),console.error(t))})}},{key:"setSession",value:function(e){l.default.defaults.headers.common.Authorization="Bearer "+e.idToken,localStorage.setItem("isLoggedIn","true");var t=1e3*e.expiresIn+(new Date).getTime();this.props.setCredentials({accessToken:e.accessToken,idToken:e.idToken,email:(0,p.get)(e,"idTokenPayload.email"),expiresAt:t}),this.props.history.replace(this.props.location.pathname)}},{key:"renewSession",value:function(){var e=this;h.checkSession({},function(t,r){r&&r.accessToken&&r.idToken?e.setSession(r):t&&(e.logout(),console.error(t))})}},{key:"render",value:function(){var e="nav__link nav__link__login";return this.props.isLoggedIn?a.default.createElement("a",{className:(0,u.default)(e,"nav__link__logout"),onClick:this.logout,href:"#"},"Log out"):a.default.createElement("a",{className:(0,u.default)(e),onClick:this.login,href:"#"},"Login")}}]),t}()),g=o({},f.user);r.default=(0,i.withRouter)((0,s.connect)(function(e){return{isLoggedIn:e.user.isLoggedIn}},g)(y))},{"../actions":"/root/repo/app/scripts/actions/index.js","../config":"/root/repo/app/scripts/config.js","auth0-js":"auth0-js",axios:"axios",classnames:"classnames","object-path":"object-path",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/root/repo/app/scripts/components/editable-text.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=f(e("react")),s=e("react-redux"),i=f(e("classnames")),c=e("object-path"),u=e("react-router"),l=e("../utils/location"),p=e("../actions");function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.isDisabled=function(){return r.props.value===r.props.initialValue||r.props.loading},r.update=function(e){r.props.update({formID:r.props.formID,value:e.currentTarget.value})},r.onSubmit=function(e){var t,o,n;e.preventDefault(),r.isDisabled()||r.props.onSubmit((t={},o=r.props.schemaPropertyName,n=r.props.value,o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t)),r.props.isLocationAware&&(0,l.syncLocation)(r.props.history,r.props.location,r.props.value,r.props.formID)},r.props.isLocationAware&&(0,l.syncLocation)(r.props.history,r.props.location,r.props.value,r.props.formID),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){this.props.create({formID:this.props.formID,initialValue:this.props.initialValue||""})}},{key:"componentWillUnmount",value:function(){this.props.destroy({formID:this.props.formID})}},{key:"renderEditable",value:function(){var e=this.props.placeholder||"Enter a value",t=this.isDisabled();return a.default.createElement("form",{className:"editable__form",onSubmit:this.onSubmit},a.default.createElement("label",{className:"editable__label",htmlFor:this.props.formID},this.props.label," ",this.props.showRequired&&a.default.createElement("span",{className:"error__label"},a.default.createElement("span",{className:"collecticons collecticons-circle-information"})," this field is required")),a.default.createElement("input",{className:"editable__input",type:"text",spellCheck:!1,id:this.props.formID,placeholder:e,value:this.props.value||"",onChange:this.update}),!this.props.hideSubmit&&a.default.createElement("input",{type:"submit",value:"Submit",className:(0,i.default)("editable__submit",{disabled:t})}))}},{key:"renderReadOnly",value:function(){return a.default.createElement("p",null,this.props.value)}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.canEdit;return a.default.createElement("div",{className:(0,i.default)(t)},a.default.createElement("div",{className:(0,i.default)("editable editable__text",{readonly:!r})},r?this.renderEditable():this.renderReadOnly()))}}]),t}(),m=o({},p.forms);r.default=(0,u.withRouter)((0,s.connect)(function(e,t){return{value:(0,c.get)(e.forms,t.formID,""),loading:e.async.loading}},m)(d))},{"../actions":"/root/repo/app/scripts/actions/index.js","../utils/location":"/root/repo/app/scripts/utils/location.js",classnames:"classnames","object-path":"object-path",react:"react","react-redux":"react-redux","react-router":"/root/repo/node_modules/react-router/index.js"}],"/root/repo/app/scripts/components/emergency-list.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=l(e("url")),n=l(e("react")),a=e("react-router-dom"),s=e("object-path"),i=e("time-ago"),c=l(e("classnames")),u=e("../config");function l(e){return e&&e.__esModule?e:{default:e}}var p="--";r.default=function(e){var t=e.data,r=e.showCountry,l=e.title,f=e.isSelect,d=e.onRowSelect;return n.default.createElement("div",{className:"em__list"},!!l&&n.default.createElement("h3",{className:"section__title"},l),n.default.createElement("table",{className:"table"},n.default.createElement("thead",{className:"table__head"},n.default.createElement("tr",null,n.default.createElement("th",null,"Name"),n.default.createElement("th",null,"Type"),n.default.createElement("th",null,"Num. Impacted"),r&&n.default.createElement("th",null,"Countries"),n.default.createElement("th",null,"Created"))),n.default.createElement("tbody",{className:(0,c.default)("table__body",{"table__body--select":f})},t.map(function(e){return n.default.createElement("tr",{key:e.id,onClick:f&&d,"data-value":e.id,"data-name":e.name},f?n.default.createElement("td",null,e.name):n.default.createElement("td",null,n.default.createElement(a.Link,{to:"/emergencies/emergency/"+e.id},e.name)," ",n.default.createElement("a",{href:(t=e.id,o.default.resolve(u.goRoot,"emergencies/"+t)),target:"_blank",className:"table__extlink"},n.default.createElement("span",{className:"collecticons collecticons-expand-top-right"}))),n.default.createElement("td",null,(0,s.get)(e,"dtype.name",p)),n.default.createElement("td",null,(0,s.get)(e,"num_affected")),r&&n.default.createElement("td",null,(e.countries||[]).map(function(e){return n.default.createElement(a.Link,{key:e.id,to:"/emergencies/country/"+e.id},e.name)})),n.default.createElement("td",null,(0,i.ago)(e.created_at)));var t}))))}},{"../config":"/root/repo/app/scripts/config.js",classnames:"classnames","object-path":"object-path",react:"react","react-router-dom":"react-router-dom","time-ago":"time-ago",url:"/root/repo/node_modules/url/url.js"}],"/root/repo/app/scripts/components/error.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=a(e("react")),n=a(e("classnames"));function a(e){return e&&e.__esModule?e:{default:e}}r.default=function(e){var t=e.message,r=e.level||"warning";return o.default.createElement("div",{className:(0,n.default)("error","error__"+r)},o.default.createElement("p",null,t||"An error occurred"))}},{classnames:"classnames",react:"react"}],"/root/repo/app/scripts/components/fork-report.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=l(e("react")),a=e("react-redux"),s=e("react-router"),i=e("../utils/async"),c=e("../actions"),u=l(e("./modal"));function l(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={showConfirm:!1},r.toggleConfirm=function(){r.setState({showConfirm:!r.state.showConfirm})},r.fork=function(){var e=(0,i.getForkPayloadFromReport)(r.props.report);r.props.postReport({payload:e,lastReport:r.props.report.id})},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),o(t,[{key:"renderPrompt",value:function(){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"modal__inner"},n.default.createElement("p",{className:"modal__prompt"},"This will create a copy of this report that you can edit"),n.default.createElement("button",{className:"modal__ctrl modal__ctrl--confirm",onClick:this.fork},"Confirm"),n.default.createElement("button",{className:"modal__ctrl",onClick:this.toggleConfirm},"Cancel")))}},{key:"render",value:function(){return n.default.createElement(n.default.Fragment,null,n.default.createElement("button",{className:"report__ctrl report__ctrl__fork",onClick:this.toggleConfirm},n.default.createElement("span",{className:"collecticons collecticons-git-fork"})," Fork this report"),this.state.showConfirm&&n.default.createElement(u.default,{transparent:!0,cancel:this.toggleConfirm},this.renderPrompt()))}}]),t}(),f={postReport:c.postReport,clearUploadState:c.clearUploadState};r.default=(0,s.withRouter)((0,a.connect)(function(e,t){return{report:e.reportMap[t.current]}},f)(p))},{"../actions":"/root/repo/app/scripts/actions/index.js","../utils/async":"/root/repo/app/scripts/utils/async.js","./modal":"/root/repo/app/scripts/components/modal.js",react:"react","react-redux":"react-redux","react-router":"/root/repo/node_modules/react-router/index.js"}],"/root/repo/app/scripts/components/map.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=i(e("react")),a=i(e("mapbox-gl")),s=e("../config");function i(e){return e&&e.__esModule?e:{default:e}}a.default.accessToken=s.mbtoken;var c={height:"600px"},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.container=n.default.createRef(),r.renderAssets=function(){var e=r.props,t=e.sources,o=e.layers;Object.keys(t).forEach(function(e){r.map.addSource(e,t[e])}),o.forEach(function(e){var t=e.layer,o=e.dependencies;o?r.map.loadImage(o.image,function(e,n){r.map.addImage(o.key,n),r.map.addLayer(t)}):r.map.addLayer(t)})},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=this;this.map=function(e){var t=new a.default.Map({container:e,style:"mapbox://styles/go-ifrc/cjkdzcum95m7l2sqgo3i7cv4q",zoom:1.2,center:[0,25],minZoom:1,maxZoom:6,scrollZoom:!1,pitchWithRotate:!1,dragRotate:!1,renderWorldCopies:!1,attributionControl:!1,preserveDrawingBuffer:!0});return t.addControl(new a.default.NavigationControl,"top-right"),t.dragRotate.disable(),t.touchZoomRotate.disableRotation(),t}(this.container.current),this.map.on("load",function(){e.props.sources&&e.props.layers&&e.renderAssets()})}},{key:"componentDidUpdate",value:function(e){this.props.sources&&this.props.layers&&!e.sources&&!e.layers&&this.renderAssets()}},{key:"componentWillUnmount",value:function(){this.map&&this.map.remove()}},{key:"render",value:function(){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"map__cont"},n.default.createElement("div",{className:"map",style:c,ref:this.container})),this.props.children)}}]),t}();r.default=u},{"../config":"/root/repo/app/scripts/config.js","mapbox-gl":"mapbox-gl",react:"react"}],"/root/repo/app/scripts/components/markdown-report-editor.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=i(e("react")),n=e("slate-react"),a=e("slate"),s=i(e("../utils/initial-editor-value.json"));function i(e){return e&&e.__esModule?e:{default:e}}var c=a.Value.fromJSON(s.default);r.default=function(e){var t=e.onChange,r=e.value;return o.default.createElement("div",{className:"editor__cont"},o.default.createElement(n.Editor,{id:"new-report-slate-editor",defaultValue:c,onChange:t,value:r,className:"editor"}))}},{"../utils/initial-editor-value.json":"/root/repo/app/scripts/utils/initial-editor-value.json",react:"react",slate:"slate","slate-react":"slate-react"}],"/root/repo/app/scripts/components/metadata.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=e("react"),a=(o=n)&&o.__esModule?o:{default:o};function s(e,t){var r=e.source&&e.link?a.default.createElement("a",{href:e.link,target:"_blank"},e.source):e.source;return a.default.createElement(a.default.Fragment,{key:t},a.default.createElement("dt",null,e.label,":"),a.default.createElement("dd",null,e.value," ",!!r&&a.default.createElement("span",{className:"dd__source"},"Source: ",r)))}r.default=function(e){var t=e.data;return a.default.createElement("dl",{className:"dl reportcard__dl"},t.map(s))}},{react:"react"}],"/root/repo/app/scripts/components/modal.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t=e.children,r=e.cancel,a=e.transparent,s=e.className;return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:(0,n.default)("modal__bg",{modal__bg__transparent:a}),onClick:r}),o.default.createElement("div",{className:(0,n.default)("modal__cont",s)},o.default.createElement("div",{className:"modal"},t)))};var o=a(e("react")),n=a(e("classnames"));function a(e){return e&&e.__esModule?e:{default:e}}},{classnames:"classnames",react:"react"}],"/root/repo/app/scripts/components/nav.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=s(e("react")),n=e("react-router-dom"),a=s(e("./auth"));function s(e){return e&&e.__esModule?e:{default:e}}r.default=function(){return o.default.createElement("nav",{className:"nav"},o.default.createElement("ul",{className:"nav__opts"},o.default.createElement("li",{className:"nav__opt"},o.default.createElement(n.NavLink,{exact:!0,className:"nav__link",to:"/"},"Home")),o.default.createElement("li",{className:"nav__opt"},o.default.createElement(n.NavLink,{exact:!0,className:"nav__link",to:"/emergencies"},"Emergencies")),o.default.createElement("li",{className:"nav__opt"},o.default.createElement(n.NavLink,{exact:!0,className:"nav__link",to:"/reports"},"Reports")),o.default.createElement("li",{className:"nav__opt"},o.default.createElement(n.NavLink,{exact:!0,className:"nav__link nav__link--heavy",to:"/reports/new"},"+ New Report")),o.default.createElement("li",{className:"nav__opt nav__opt--right"},o.default.createElement(a.default,null))))}},{"./auth":"/root/repo/app/scripts/components/auth.js",react:"react","react-router-dom":"react-router-dom"}],"/root/repo/app/scripts/components/notebook.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=s(e("react")),n=s(e("notebookjs")),a=s(e("./error"));function s(e){return e&&e.__esModule?e:{default:e}}r.default=function(e){var t=e.data;try{var r=n.default.parse(t.content)}catch(e){return o.default.createElement(a.default,{message:"Could not parse notebook"})}var s=r.render();return o.default.createElement("div",{className:"notebook"},o.default.createElement("div",{dangerouslySetInnerHTML:{__html:s.outerHTML}}))}},{"./error":"/root/repo/app/scripts/components/error.js",notebookjs:"notebookjs",react:"react"}],"/root/repo/app/scripts/components/react-select.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=f(e("react")),s=f(e("react-select")),i=e("react-redux"),c=e("react-router"),u=f(e("classnames")),l=e("../utils/location"),p=e("../actions");function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onChange=function(e){r.props.update({formID:r.props.formID,value:e}),r.props.isLocationAware&&(0,l.syncLocation)(r.props.history,r.props.location,e.value,r.props.formID)},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){var e=this.props.initialValue||"";this.props.create({formID:this.props.formID,initialValue:this.props.initialValue||""}),this.props.isLocationAware&&(0,l.syncLocation)(this.props.history,this.props.location,e,this.props.formID)}},{key:"componentWillUnmount",value:function(){this.props.destroy({formID:this.props.formID})}},{key:"render",value:function(){var e=this.props,t=e.options;e.label;return a.default.createElement("div",{className:(0,u.default)("reactselect__cont",this.props.className)},a.default.createElement("label",{className:"select__label"},this.props.label," ",this.props.showRequired&&a.default.createElement("span",{className:"error__label"},a.default.createElement("span",{className:"collecticons collecticons-circle-information"})," this field is required")),a.default.createElement(s.default,{options:t,onChange:this.onChange,isMulti:this.props.multiselect,value:this.props.value}))}}]),t}(),m=o({},p.forms);r.default=(0,c.withRouter)((0,i.connect)(function(e,t){return{value:e.forms[t.formID]}},m)(d))},{"../actions":"/root/repo/app/scripts/actions/index.js","../utils/location":"/root/repo/app/scripts/utils/location.js",classnames:"classnames",react:"react","react-redux":"react-redux","react-router":"/root/repo/node_modules/react-router/index.js","react-select":"react-select"}],"/root/repo/app/scripts/components/report.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=l(e("react")),n=e("react-router-dom"),a=e("react-redux"),s=e("time-ago"),i=l(e("classnames")),c=e("../utils/format"),u=e("../utils/notebook");function l(e){return e&&e.__esModule?e:{default:e}}r.default=(0,a.connect)(function(e,t){var r=t.report;return{country:r&&r.country?e.countries[r.country]:void 0}})(function(e){var t=e.report,r=e.country,a=e.hideImage,l=e.isSelect,p=e.isSelected,f=e.onSelect,d=t.forked_from?"forked":"created",m=!a&&(0,u.getReportLeadImage)(t),h=m&&(m.dataUri?"data:"+m.mime+";base64,"+m.dataUri:m.imageUri);return o.default.createElement("div",{className:(0,i.default)("reportcard",{reportcard__select:l}),onClick:l&&f,"data-value":t.id,"data-name":t.name},!l&&o.default.createElement(n.Link,{className:"reportcard__primary",to:"/reports/"+t.id},m&&o.default.createElement("div",{className:"reportcard__image"},o.default.createElement("img",{src:h})),o.default.createElement("h3",{className:"reportcard__title"},(0,c.reportTitle)(t))),l&&o.default.createElement("div",{className:"reportcard__primary"},o.default.createElement("h3",{className:"reportcard__title"},p&&o.default.createElement("span",{className:"reportcard__selected"},o.default.createElement("span",{className:"collecticons collecticons-tick--small"})),(0,c.reportTitle)(t))),o.default.createElement("div",{className:"reportcard__details"},o.default.createElement("p",null,o.default.createElement("span",{className:"reportcard__author"},(0,c.cap)((0,u.getAuthorFromEmail)(t.author)))," ",d," ",(0,s.ago)(t.created_at)),o.default.createElement("dl",{className:"dl reportcard__dl"},function(e,t){return e?[o.default.createElement("dt",{key:"dt"},"Country:"),o.default.createElement("dd",{key:"dd"},t?e.name:o.default.createElement(n.Link,{to:"/emergencies/country/"+e.id},e.name))]:null}(r,l),function(e){return e.disaster_type?[o.default.createElement("dt",{key:"dt"},"Disaster Type:"),o.default.createElement("dd",{key:"dd"},(0,c.cap)(e.disaster_type))]:null}(t))))})},{"../utils/format":"/root/repo/app/scripts/utils/format.js","../utils/notebook":"/root/repo/app/scripts/utils/notebook.js",classnames:"classnames",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom","time-ago":"time-ago"}],"/root/repo/app/scripts/components/select-report.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=f(e("react")),s=e("react-redux"),i=f(e("lodash.without")),c=e("../actions"),u=f(e("./select")),l=f(e("./async-status")),p=f(e("./report"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selectReport=function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.getAttribute("data-value"),o=r.props.reportField,n=o?o.split(", "):[];o.indexOf(t)>=0?n=(0,i.default)(n,t):n.push(t),r.props.update({formID:r.props.formID,value:n.join(", ")})},r.clearChosenReports=function(e){e.preventDefault(),r.props.update({formID:r.props.formID,value:""})},r.onSubmit=function(){r.props.onSubmit&&r.props.onSubmit({value:r.getCurrentValue()})},r.onModalClose=function(){r.props.onModalClose&&r.props.onModalClose({value:r.getCurrentValue()})},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"getCurrentValue",value:function(){return this.props.reportField?this.props.reportField.split(", "):[]}},{key:"componentDidMount",value:function(){this.props.reports.length||this.props.getReports()}},{key:"renderReportSelect",value:function(){var e=this,t=this.props,r=t.reports,o=t.reportField;if(!r.length)return a.default.createElement(l.default,null);var n=o?o.split(", "):[];return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"modal__select modal__select--report"},r.map(function(t){return a.default.createElement(p.default,{isSelect:!0,isSelected:n.indexOf(t.id)>=0,onSelect:e.selectReport,key:t.id,report:t,hideImage:!0})})),this.props.showSubmit&&a.default.createElement("button",{className:"modal__submit",onClick:this.onSubmit},"Submit"))}},{key:"renderPrompt",value:function(){return a.default.createElement(a.default.Fragment,null,"Choose a report ",this.props.reportField&&a.default.createElement("a",{className:"modal__clear",href:"#",onClick:this.clearChosenReports},a.default.createElement("span",{className:"collecticons collecticons-circle-xmark"}),"Clear chosen reports"))}},{key:"render",value:function(){return a.default.createElement(u.default,{formID:this.props.formID,label:"Attached report(s)",placeholder:"Select one or more reports to reference...",initialValue:this.props.initialValue||"",onModalClose:this.onModalClose,prompt:this.renderPrompt()},this.renderReportSelect())}}]),t}(),m=o({},c.forms,{getReports:c.getReports});r.default=(0,s.connect)(function(e,t){return{reports:Array.isArray(t.without)?e.reports.filter(function(e){return t.without.indexOf(e.id)<0}):e.reports,reportField:e.forms[t.formID]}},m)(d)},{"../actions":"/root/repo/app/scripts/actions/index.js","./async-status":"/root/repo/app/scripts/components/async-status.js","./report":"/root/repo/app/scripts/components/report.js","./select":"/root/repo/app/scripts/components/select.js","lodash.without":"lodash.without",react:"react","react-redux":"react-redux"}],"/root/repo/app/scripts/components/select.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=l(e("react")),s=e("react-redux"),i=e("object-path"),c=e("../actions"),u=l(e("./modal"));function l(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={showSelect:!1},r.toggle=function(){var e={showSelect:!r.state.showSelect};r.setState(e),r.props.onModalClose&&!e.showSelect&&r.props.onModalClose()},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){this.props.create({formID:this.props.formID,initialValue:this.props.initialValue||""})}},{key:"renderSelect",value:function(){return a.default.createElement(u.default,{className:"modal__lg",cancel:this.toggle},a.default.createElement("div",{className:"modal__inner"},a.default.createElement("h3",{className:"modal__prompt"},this.props.prompt),a.default.createElement("div",{onClick:this.toggle},this.props.children)))}},{key:"render",value:function(){return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"select__cont",onClick:this.toggle},a.default.createElement("label",{className:"select__label",htmlFor:this.props.formID},this.props.label),a.default.createElement("input",{className:"select__input",type:"text",id:this.props.formID,placeholder:this.props.placeholder,value:this.props.value,readOnly:!0}),a.default.createElement("button",{className:"select__trigger"},"Select")),this.state.showSelect&&this.renderSelect())}}]),t}(),f=o({},c.forms);r.default=(0,s.connect)(function(e,t){return{value:(0,i.get)(e.forms,t.formID,"")}},f)(p)},{"../actions":"/root/repo/app/scripts/actions/index.js","./modal":"/root/repo/app/scripts/components/modal.js","object-path":"object-path",react:"react","react-redux":"react-redux"}],"/root/repo/app/scripts/components/update-report.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=m(e("react")),s=e("object-path"),i=e("react-redux"),c=e("react-router"),u=e("../actions"),l=e("../utils/notebook"),p=m(e("./notebook")),f=m(e("./editable-text")),d=m(e("./select-report"));function m(e){return e&&e.__esModule?e:{default:e}}var h={json:"JSON parse error",invalid:"Invalid or empty file"},y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.updateReportMetadata=function(e){r.props.patchReport({id:r.props.report.id,payload:e})},r.updateReportRefs=function(e){var t=e.value;(0,l.setReportRefs)(r.props.report,t),r.props.patchReport({id:r.props.report.id,payload:{content:r.props.report.content}})},r.onFileInputChange=function(e){r.props.readReportStart();var t=new FileReader;t.onloadend=r.validateReport,t.readAsText(e.target.files[0])},r.validateReport=function(e){try{var t=JSON.parse(e.target.result)}catch(e){return r.props.readReportFail({error:new Error(h.json)})}if(!Array.isArray((0,s.get)(t,"cells"))||!t.cells.length)return r.props.readReportFail({error:new Error(h.invalid)});var o=Object.assign({},r.props.report,{content:t});delete o.id,delete o.created_at,r.props.readReportSuccess({report:o})},r.upload=function(){r.props.postReport({payload:r.props.nextReport,lastReport:r.props.report.id})},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentWillUnmount",value:function(){this.props.clearUploadState()}},{key:"renderUploadNotebookUI",value:function(){return a.default.createElement("div",{className:"report__upload"},a.default.createElement("button",{className:"report__ctrl report__ctrl__confirm",onClick:this.upload},"Upload this notebook"),a.default.createElement("div",{className:"report__upload__next"},a.default.createElement(p.default,{data:this.props.nextReport})))}},{key:"render",value:function(){var e=this.props.report;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"report__meta"},a.default.createElement("h3",{className:"report__meta__title"},"Edit report metadata"),a.default.createElement(f.default,{canEdit:!0,className:"report__name",formID:e.id+"-name",initialValue:e.name,label:"Name",placeholder:"Enter a report name",onSubmit:this.updateReportMetadata,schemaPropertyName:"name"}),a.default.createElement(d.default,{formID:e.id+"-reports",initialValue:(0,l.getReportRefs)(e,!0),showSubmit:!0,onModalClose:this.updateReportRefs,without:[e.id]})),a.default.createElement("div",{className:"report__next"},a.default.createElement("h3",{className:"report__meta__title"},"Upload a new version of this report"),a.default.createElement("form",{className:"report__upload",onChange:this.onFileInputChange},a.default.createElement("input",{type:"file",accept:"application/json,.ipynb",multiple:!1})),this.props.nextReport&&this.renderUploadNotebookUI()))}}]),t}(),g=o({},u.readReport,{postReport:u.postReport,patchReport:u.patchReport,clearUploadState:u.clearUploadState});r.default=(0,c.withRouter)((0,i.connect)(function(e){return{nextReport:e.uploadReport.nextReport}},g)(y))},{"../actions":"/root/repo/app/scripts/actions/index.js","../utils/notebook":"/root/repo/app/scripts/utils/notebook.js","./editable-text":"/root/repo/app/scripts/components/editable-text.js","./notebook":"/root/repo/app/scripts/components/notebook.js","./select-report":"/root/repo/app/scripts/components/select-report.js","object-path":"object-path",react:"react","react-redux":"react-redux","react-router":"/root/repo/node_modules/react-router/index.js"}],"/root/repo/app/scripts/components/upload-report-success.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=e("react"),s=(o=a)&&o.__esModule?o:{default:o},i=e("react-redux"),c=e("react-router-dom"),u=e("../actions");var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),n(t,[{key:"componentDidUpdate",value:function(e){var t=this,r=this.props.nextReportID;r&&!e.nextReportID&&setTimeout(function(){t.props.clearUploadState(),t.props.history.push("/reports/"+r)},800)}},{key:"render",value:function(){return this.props.nextReportID?s.default.createElement("div",{className:"success"},s.default.createElement("p",null,"Upload successful! Loading new report...")):null}}]),t}(),p={clearUploadState:u.clearUploadState};r.default=(0,c.withRouter)((0,i.connect)(function(e){return{nextReportID:e.uploadReport.nextReportID}},p)(l))},{"../actions":"/root/repo/app/scripts/actions/index.js",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/root/repo/app/scripts/components/versions.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=e("react"),s=(o=a)&&o.__esModule?o:{default:o},i=e("react-router-dom"),c=e("react-redux"),u=e("object-path"),l=e("time-ago"),p=e("../actions");var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.toggleOld=r.expand.bind(r,"older"),r.toggleNew=r.expand.bind(r,"newer"),r.state={older:!1,newer:!1},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),n(t,[{key:"componentDidMount",value:function(){this.getVersions()}},{key:"componentDidUpdate",value:function(e){this.props.docID!==e.docID&&this.getVersions(),this.props.current!==e.current&&this.setState({older:!1,newer:!1})}},{key:"getVersions",value:function(){this.props.getReportVersions({docID:this.props.docID})}},{key:"expand",value:function(e,t){var r,o,n;t.preventDefault(),this.setState((r={},o=e,n=!this.state[e],o in r?Object.defineProperty(r,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[o]=n,r))}},{key:"renderVersionLinks",value:function(e){return s.default.createElement("ul",{className:"versions"},e.map(function(e){return s.default.createElement("li",{key:e.id},s.default.createElement("span",{className:"collecticons collecticons-pages"}),"",s.default.createElement(i.Link,{to:"/reports/"+e.id},e.name),"",s.default.createElement("span",{className:"light"},"created ",(0,l.ago)(e.created_at)))}))}},{key:"renderNoVersions",value:function(){return s.default.createElement("p",{className:"report__info"},"This is the first version of this report.")}},{key:"render",value:function(){var e=this.props,t=e.older,r=e.newer;return t.length||r.length?s.default.createElement("div",{className:"report__versions"},t.length>0&&s.default.createElement("p",{className:"versions__count"},t.length," older version(s) available. ",s.default.createElement("a",{href:"#",onClick:this.toggleOld},this.state.older?"Hide":"Show")),this.state.older&&this.renderVersionLinks(t),r.length>0&&s.default.createElement("p",{className:"versions__count"},r.length," newer version(s) available. ",s.default.createElement("a",{href:"#",onClick:this.toggleNew},this.state.newer?"Hide":"Show")),this.state.newer&&this.renderVersionLinks(r)):this.renderNoVersions()}}]),t}(),d={getReportVersions:p.getReportVersions};r.default=(0,c.connect)(function(e,t){var r=t.docID,o=t.current,n=e.reportMap,a=e.reportVersions,s=(0,u.get)(n,[o,"created_at"]),i=Object.values(a).filter(function(e){return e.doc_id===r});return{older:i.filter(function(e){return e.created_at<s}).sort(function(e,t){return e.created_at>t.created_at?-1:1}),newer:i.filter(function(e){return e.created_at>s}).sort(function(e,t){return e.created_at>t.created_at?-1:1}),current:o}},d)(f)},{"../actions":"/root/repo/app/scripts/actions/index.js","object-path":"object-path",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom","time-ago":"time-ago"}],"/root/repo/app/scripts/config.js":[function(e,t,r){"use strict";var o,n=e("lodash.defaultsdeep");(o=n)&&o.__esModule;var a={local:e("./config/local.js"),production:e("./config/production.js"),staging:e("./config/staging.js")},s=a.production||{};t.exports=s.default},{"./config/local.js":"/root/repo/app/scripts/config/local.js","./config/production.js":"/root/repo/app/scripts/config/production.js","./config/staging.js":"/root/repo/app/scripts/config/staging.js","lodash.defaultsdeep":"lodash.defaultsdeep"}],"/root/repo/app/scripts/config/local.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={environment:"development"}},{}],"/root/repo/app/scripts/config/production.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={environment:"production",mbtoken:"pk.eyJ1IjoiZ28taWZyYyIsImEiOiJjams3b2ZhZWswMGFvM3hxeHp2ZHFhOTRrIn0._pqO9OQ2iNeDGrpopJNjpg",api:"https://nethope-sitrep-api.herokuapp.com",goApi:"https://prddsgocdnapi.azureedge.net/api/v2/",goRoot:"https://go.ifrc.org/",siteRoot:"//devseed.com/nethope-sitrep-frontend/",authDomain:"nethope-sitrep.auth0.com",authClientID:"7uh3OYwKejqd1YGQBbiASO0jBeX3JUdC",authRedirectUri:"https://devseed.com/nethope-sitrep-frontend/"}},{}],"/root/repo/app/scripts/config/staging.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={environment:"staging"}},{}],"/root/repo/app/scripts/main.js":[function(e,t,r){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=E(e("react")),s=e("react-dom"),i=e("react-redux"),c=e("react-router-dom"),u=E(e("./store")),l=e("./actions"),p=E(e("./components/app")),f=E(e("./pages/home")),d=E(e("./pages/reports")),m=E(e("./pages/report-detail")),h=E(e("./pages/new-report")),y=E(e("./pages/country")),g=E(e("./pages/emergencies")),v=E(e("./pages/emergency")),_=E(e("./pages/login")),b=E(e("./pages/loading"));function E(e){return e&&e.__esModule?e:{default:e}}var j="true"===localStorage.getItem("isLoggedIn"),w=(0,u.default)({user:{isLoggedIn:j}}),O="LOGGED_IN",R="INFLIGHT",T="NULL";w.dispatch((0,l.getCountries)());var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"getAuthStatus",value:function(){var e=w.getState().user;return e.isLoggedIn&&e.accessToken?O:e.isLoggedIn?R:T}},{key:"render",value:function(){var e=this.props,t=e.component,r=e.render,n=function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}(e,["component","render"]),s=void 0;switch(this.getAuthStatus()){case O:s=function(e){return r?r(e):a.default.createElement(t,e)};break;case R:s=function(e){return a.default.createElement(c.Route,{path:e.location.path,component:b.default})};break;case T:s=function(){return a.default.createElement(c.Route,{path:"/",component:_.default})}}return a.default.createElement(c.Route,o({},n,{render:s}))}}]),t}();(0,s.render)(a.default.createElement(function(){return a.default.createElement(i.Provider,{store:w},a.default.createElement(c.HashRouter,null,a.default.createElement(p.default,null,a.default.createElement(c.Switch,null,a.default.createElement(S,{exact:!0,path:"/",component:f.default}),a.default.createElement(S,{exact:!0,path:"/reports",component:d.default}),a.default.createElement(S,{exact:!0,path:"/reports/new",component:h.default}),a.default.createElement(S,{exact:!0,path:"/reports/:reportID",component:m.default}),a.default.createElement(S,{exact:!0,path:"/reports/:reportID/update",component:m.default}),a.default.createElement(S,{exact:!0,path:"/emergencies",component:g.default}),a.default.createElement(S,{exact:!0,path:"/emergencies/country/:countryID",component:y.default}),a.default.createElement(S,{exact:!0,path:"/emergencies/emergency/:emergencyID",component:v.default})))))},{store:w}),document.querySelector("#app-container"))},{"./actions":"/root/repo/app/scripts/actions/index.js","./components/app":"/root/repo/app/scripts/components/app.js","./pages/country":"/root/repo/app/scripts/pages/country.js","./pages/emergencies":"/root/repo/app/scripts/pages/emergencies.js","./pages/emergency":"/root/repo/app/scripts/pages/emergency.js","./pages/home":"/root/repo/app/scripts/pages/home.js","./pages/loading":"/root/repo/app/scripts/pages/loading.js","./pages/login":"/root/repo/app/scripts/pages/login.js","./pages/new-report":"/root/repo/app/scripts/pages/new-report.js","./pages/report-detail":"/root/repo/app/scripts/pages/report-detail.js","./pages/reports":"/root/repo/app/scripts/pages/reports.js","./store":"/root/repo/app/scripts/store.js",react:"react","react-dom":"react-dom","react-redux":"react-redux","react-router-dom":"react-router-dom"}],"/root/repo/app/scripts/pages/country.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=d(e("react")),a=e("react-redux"),s=e("qs"),i=e("../utils/timespans"),c=e("../actions"),u=d(e("../components/async-status")),l=d(e("../components/report")),p=d(e("../components/emergency-list")),f=d(e("../components/metadata"));function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),o(t,[{key:"componentDidMount",value:function(){this.props.emergencies||this.props.getEmergencies({qs:this.props.qs}),this.props.getReports(),this.props.getStaticCountryAssets({countryID:this.props.countryID})}},{key:"componentDidUpdate",value:function(e){this.props.emergencies||(this.props.getEmergencies({qs:this.props.qs}),this.props.getStaticCountryAssets({countryID:this.props.countryID}))}},{key:"renderCountryMetadata",value:function(){var e=this.props.country.metadata;return n.default.createElement("section",{className:"section"},n.default.createElement("div",{className:"inner"},n.default.createElement(f.default,{data:e})))}},{key:"render",value:function(){var e=this.props,t=e.country,r=e.emergencies,o=e.reports;return n.default.createElement("div",{className:"page page__country"},t&&n.default.createElement("div",{className:"page__header"},n.default.createElement("div",{className:"inner"},n.default.createElement("h2",{className:"page__title"},t.name))),!(!t||!Array.isArray(t.metadata))&&this.renderCountryMetadata(),n.default.createElement("section",{className:"section"},n.default.createElement("div",{className:"inner"},n.default.createElement(u.default,null),n.default.createElement("div",{className:"reports__cont"},o.map(function(e){return n.default.createElement(l.default,{key:e.id,report:e})})))),n.default.createElement("section",{className:"section"},n.default.createElement("div",{className:"inner"},r&&n.default.createElement(p.default,{data:r.data,title:"Recent Emergencies (last 30 days)"}))))}}]),t}(),h={getReports:c.getReports,getEmergencies:c.getEmergencies,getStaticCountryAssets:c.getStaticCountryAssets};r.default=(0,a.connect)(function(e,t){var r=t.match.params.countryID,o=e.countries[r],n=(0,s.stringify)({disaster_start_date__gt:i.recent,ordering:"-disaster_start_date",countries__in:r,limit:100});return{country:o,qs:n,emergencies:e.emergencies[n],reports:e.reports.filter(function(e){return e.country&&e.country.toString()===r}),countryID:r}},h)(m)},{"../actions":"/root/repo/app/scripts/actions/index.js","../components/async-status":"/root/repo/app/scripts/components/async-status.js","../components/emergency-list":"/root/repo/app/scripts/components/emergency-list.js","../components/metadata":"/root/repo/app/scripts/components/metadata.js","../components/report":"/root/repo/app/scripts/components/report.js","../utils/timespans":"/root/repo/app/scripts/utils/timespans.js",qs:"qs",react:"react","react-redux":"react-redux"}],"/root/repo/app/scripts/pages/emergencies.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=h(e("react")),a=e("react-redux"),s=e("qs"),i=h(e("lodash.groupby")),c=e("object-path"),u=e("../actions"),l=e("../utils/timespans"),p=e("../utils/centroids"),f=h(e("../components/async-status")),d=h(e("../components/map")),m=h(e("../components/emergency-list"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return{type:"Feature",geometry:{type:"Point",coordinates:e},properties:t}}function g(e){return{type:"FeatureCollection",features:e}}var v="https://raw.githubusercontent.com/developmentseed/nethope-sitrep-frontend/develop/app/graphics/content/icon-notebook.png",_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),o(t,[{key:"componentDidMount",value:function(){this.props.featured.length||this.props.getFeaturedEmergencies(),this.props.qs&&!this.props.emergencies&&this.props.getEmergencies({qs:this.props.qs}),this.props.getReports()}},{key:"componentDidUpdate",value:function(){this.props.qs&&!this.props.emergencies&&this.props.getEmergencies({qs:this.props.qs})}},{key:"getMapAssets",value:function(){var e=this.props,t=e.reports,r=e.featuredEmergencies,o=e.countries;if(!t.length||!r.length)return{sources:null,layers:null};var n=(0,i.default)(t.filter(function(e){return e.country}),"country"),a=Object.values(n).map(function(e){var t=o[e[0].country];return y((0,p.getCentroid)(t.iso),{reportIDs:e.map(function(e){return e.id}).join(","),numReports:e.length})}),s=(0,i.default)(r.filter(function(e){return(0,c.get)(e,"countries.0.iso")}),"countries.0.iso"),u=Object.values(s).map(function(e){return y((0,p.getCentroid)(e[0].countries[0].iso),{emergencyIDs:e.map(function(e){return e.id}).join(","),numEmergencies:e.length})});return{sources:{"notebook-centroids":{type:"geojson",data:g(a)},"emergency-centroids":{type:"geojson",data:g(u)}},layers:[{dependencies:{image:v,key:"notebook"},layer:{id:"notebook-marker-layer",type:"symbol",source:"notebook-centroids",layout:{"icon-image":"notebook","icon-size":.4,"icon-allow-overlap":!0},paint:{"icon-opacity":.85}}},{layer:{id:"emergency-circle-layer",type:"circle",source:"emergency-centroids",layout:{},paint:{"circle-radius":7,"circle-color":"#ff8308","circle-stroke-color":"#FFFFFF","circle-stroke-opacity":.4,"circle-stroke-width":1}}}]}}},{key:"render",value:function(){var e=this.props.emergencies,t=this.getMapAssets(),r=t.sources,o=t.layers;return n.default.createElement("div",{className:"page page__ees"},n.default.createElement("div",{className:"page__header"},n.default.createElement("div",{className:"inner"},n.default.createElement("h2",{className:"page__title"},"Active Emergencies"))),n.default.createElement(d.default,{layers:o,sources:r},n.default.createElement("div",{className:"inner map__legend__cont"},n.default.createElement("ul",{className:"map__legend"},n.default.createElement("li",{className:"map__legend__item"},n.default.createElement("span",{className:"legend__figure"},n.default.createElement("img",{src:v}))," Recent report"),n.default.createElement("li",{className:"map__legend__item"},n.default.createElement("span",{className:"legend__figure legend__figure__circle legend__figure__circle--orange"})," Featured emergency")))),n.default.createElement("div",{className:"section"},n.default.createElement("div",{className:"inner"},n.default.createElement(f.default,null),e&&n.default.createElement(m.default,{data:e.data,title:"Recent Emergencies",showCountry:!0}))))}}]),t}(),b={getReports:u.getReports,getFeaturedEmergencies:u.getFeaturedEmergencies,getEmergencies:u.getEmergencies};r.default=(0,a.connect)(function(e,t){var r=e.countries,o=e.featured,n=o.length?(0,s.stringify)({id__in:o.join(","),limit:100}):null,a=e.emergencies[n],i=a&&Array.isArray(a.data)&&a.data.filter(function(e){return o.indexOf(e.id)>=0}),c=l.lastWeek.getTime(),u=e.reports.filter(function(e){return e.created_at>=c});return{countries:r,featured:o,qs:n,emergencies:a,reports:u,featuredEmergencies:i||[]}},b)(_)},{"../actions":"/root/repo/app/scripts/actions/index.js","../components/async-status":"/root/repo/app/scripts/components/async-status.js","../components/emergency-list":"/root/repo/app/scripts/components/emergency-list.js","../components/map":"/root/repo/app/scripts/components/map.js","../utils/centroids":"/root/repo/app/scripts/utils/centroids.js","../utils/timespans":"/root/repo/app/scripts/utils/timespans.js","lodash.groupby":"lodash.groupby","object-path":"object-path",qs:"qs",react:"react","react-redux":"react-redux"}],"/root/repo/app/scripts/pages/emergency.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=p(e("react")),a=p(e("url")),s=e("react-redux"),i=e("../actions"),c=e("../config"),u=e("../utils/format"),l=p(e("../components/metadata"));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),o(t,[{key:"componentDidMount",value:function(){this.props.getEmergency({emergencyID:this.props.emergencyID}),this.props.getStaticEmergencyAssets({emergencyID:this.props.emergencyID})}},{key:"componentDidUpdate",value:function(e){this.props.emergencyID!==e.emergencyID&&(this.props.getEmergency({emergencyID:this.props.emergencyID}),this.props.getStaticEmergencyAssets({emergencyID:this.props.emergencyID}))}},{key:"renderEmergencyMetadata",value:function(){var e=this.props,t=e.emergency,r=e.stats,o=r?function(e,t){var r={},o=a.default.resolve(c.goRoot,"emergencies/"+t);return[["Number Affected","num_affected"],["Number Missing","num_missing"],["Number Injured","num_injured"],["Number Displaced","num_displaced"],["Number Dead","num_dead"]].forEach(function(t){var n=t[0],a=t[1];(e[a]||0===e[a])&&(r[n]={label:n,link:o,value:(0,u.n)(e[a]),source:"IFRC GO"})}),r}(r,t.id):{};return Array.isArray(t.metadata)&&Object.keys(t.metadata).forEach(function(e){o[e]=t.metadata[e]}),n.default.createElement("section",{className:"section"},n.default.createElement("div",{className:"inner"},n.default.createElement(l.default,{data:Object.values(o)})))}},{key:"render",value:function(){var e=this.props.emergency;return n.default.createElement(n.default.Fragment,null,!(!e||!e.name)&&n.default.createElement("div",{className:"page__header"},n.default.createElement("div",{className:"inner"},n.default.createElement("h2",{className:"page__title"},e.name))),!!e&&this.renderEmergencyMetadata())}}]),t}(),d={getEmergency:i.getEmergency,getStaticEmergencyAssets:i.getStaticEmergencyAssets};r.default=(0,s.connect)(function(e,t){var r=t.match.params.emergencyID,o=e.emergencyMap[r];return{emergencyID:r,emergency:o,stats:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).field_reports;return Array.isArray(e)&&e.length?1===e.length?e[0]:e.sort(function(e,t){return new Date(e.report_date>t.report_date?-1:1)})[0]:null}(o)}},d)(f)},{"../actions":"/root/repo/app/scripts/actions/index.js","../components/metadata":"/root/repo/app/scripts/components/metadata.js","../config":"/root/repo/app/scripts/config.js","../utils/format":"/root/repo/app/scripts/utils/format.js",react:"react","react-redux":"react-redux",url:"/root/repo/node_modules/url/url.js"}],"/root/repo/app/scripts/pages/home.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=l(e("react")),a=e("react-redux"),s=e("qs"),i=e("../actions"),c=l(e("../components/emergency-list")),u=l(e("../components/async-status"));function l(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),o(t,[{key:"componentDidMount",value:function(){this.props.featured.length||this.props.getFeaturedEmergencies(),this.props.qs&&!this.props.emergencies&&this.props.getEmergencies({qs:this.props.qs})}},{key:"componentDidUpdate",value:function(){this.props.qs&&!this.props.emergencies&&this.props.getEmergencies({qs:this.props.qs})}},{key:"render",value:function(){var e=this.props.emergencies;return n.default.createElement("div",{className:"page page__home"},n.default.createElement("div",{className:"page__header"},n.default.createElement("div",{className:"inner"},n.default.createElement("h2",{className:"page__title"},"Situation Reporting Platform Beta"))),n.default.createElement("div",{className:"section"},n.default.createElement("div",{className:"inner"},n.default.createElement(u.default,null),e&&n.default.createElement(c.default,{data:e.data,title:"Active Emergencies",showCountry:!0}))))}}]),t}(),f={getFeaturedEmergencies:i.getFeaturedEmergencies,getEmergencies:i.getEmergencies};r.default=(0,a.connect)(function(e){var t=e.featured,r=t.length?(0,s.stringify)({id__in:t.join(","),limit:100}):null,o=e.emergencies[r];return o&&Array.isArray(o.data)&&(o.data=o.data.filter(function(e){return t.indexOf(e.id)>=0})),{featured:t,qs:r,emergencies:o}},f)(p)},{"../actions":"/root/repo/app/scripts/actions/index.js","../components/async-status":"/root/repo/app/scripts/components/async-status.js","../components/emergency-list":"/root/repo/app/scripts/components/emergency-list.js",qs:"qs",react:"react","react-redux":"react-redux"}],"/root/repo/app/scripts/pages/loading.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=e("react"),a=(o=n)&&o.__esModule?o:{default:o};r.default=function(){return a.default.createElement("div",{className:"page page__loading"},a.default.createElement("div",{className:"loading"},a.default.createElement("span",{className:"async__status async__loading collecticons collecticons-arrow-spin-ccw"})))}},{react:"react"}],"/root/repo/app/scripts/pages/login.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=e("react"),a=(o=n)&&o.__esModule?o:{default:o},s=e("../components/auth");function i(e){e.preventDefault(),(0,s.authorize)()}r.default=function(){return a.default.createElement("div",{className:"page page__login"},a.default.createElement("p",{className:"login__prompt"},"Please ",a.default.createElement("a",{href:"#",onClick:i},"login")," to see this page."))}},{"../components/auth":"/root/repo/app/scripts/components/auth.js",react:"react"}],"/root/repo/app/scripts/pages/new-report.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=j(e("react")),s=e("react-redux"),i=j(e("slate-plain-serializer")),c=e("object-path"),u=e("../utils/async"),l=e("../utils/timespans"),p=e("../actions"),f=e("../utils/static-types"),d=e("../utils/notebook"),m=j(e("../components/async-status")),h=j(e("../components/markdown-report-editor")),y=j(e("../components/editable-text")),g=j(e("../components/upload-report-success")),v=j(e("../components/react-select")),_=j(e("../components/select")),b=j(e("../components/select-report")),E=j(e("../components/emergency-list"));function j(e){return e&&e.__esModule?e:{default:e}}var w="new-report-emergency",O="new-report-country",R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={showNameRequired:!1,showCountryRequired:!1,showReportTypeRequired:!1,showDisasterTypeRequired:!1},r.onEditorChange=function(e){r.props.sync({value:e.value})},r.getEmergency=function(e){return e&&r.props.emergencies&&r.props.emergencies.data.length?r.props.emergencies.data.find(function(t){return t.name===e}):null},r.save=function(){var e=r.props,t=e.name,o=e.editorValue,n=e.emergencyField,a=e.reportField,s=e.countryField,l=e.typeField,p=e.themeField,f=e.disasterField,m={showNameRequired:!t,showCountryRequired:!s,showReportTypeRequired:!l,showDisasterTypeRequired:!f};if(t&&s&&l&&f){var h=i.default.serialize(o),y=(0,u.getSimpleNotebookPayload)(t,h);if(y.country=s.value,y.emergency=(0,c.get)(r.getEmergency(n),"id"),y.report_type=l.value,y.disaster_type=f.value,a){var g=a.split(", ").map(function(e){return r.props.reports.find(function(t){return t.id===e})}).map(function(e){return{name:e.name,id:e.id,author:e.author}});(0,d.setReportRefs)(y,g)}var v=Array.isArray(p)&&p.map(function(e){return e.value});r.props.postReport({payload:y,tags:v})}r.setState(m)},r.selectEmergency=function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-name");if(r.props.update({formID:w,value:t}),!r.props.countryField){var o=(0,c.get)(r.getEmergency(t),"countries.0.id",!1),n=o&&r.props.countries.find(function(e){return e.value===o});n&&r.props.update({formID:O,value:n})}},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"componentDidMount",value:function(){this.props.emergencies||this.props.getEmergencies({qs:this.props.qs}),this.props.themes||this.props.getTags()}},{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"renderEmergencyTable",value:function(){var e=this.props.emergencies;return e&&e.data.length?a.default.createElement("div",{className:"modal__select modal__select--emergency"},a.default.createElement(E.default,{isSelect:!0,showCountry:!0,onRowSelect:this.selectEmergency,data:e.data})):a.default.createElement(m.default,null)}},{key:"render",value:function(){return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"page__header"},a.default.createElement("div",{className:"inner"},a.default.createElement("h2",{className:"page__title"},"Create a Report"))),a.default.createElement("section",{className:"section section__editor"},a.default.createElement("div",{className:"inner"},a.default.createElement(m.default,null),a.default.createElement(g.default,null),a.default.createElement("div",{className:"editable__cont"},a.default.createElement(y.default,{canEdit:!0,className:"report__name",formID:"new-report-name",initialValue:"",label:"Name*",placeholder:"Enter a report name",hideSubmit:!0,schemaPropertyName:"name",showRequired:this.state.showNameRequired})),a.default.createElement(h.default,{onChange:this.onEditorChange,value:this.props.editorValue}),a.default.createElement("div",{className:"tags"},a.default.createElement(b.default,{formID:"new-report-attached-reports"}),a.default.createElement(_.default,{formID:w,label:"Emergency",placeholder:"Select an emergency...",prompt:"Choose an emergency"},this.renderEmergencyTable()),a.default.createElement(v.default,{formID:O,label:"Country*",options:this.props.countries,showRequired:this.state.showCountryRequired})),a.default.createElement("div",{className:"tags tags__inline"},a.default.createElement(v.default,{formID:"new-report-type",className:"reactselect__cont--inline",label:"Report Type*",options:f.reportTypes,showRequired:this.state.showReportTypeRequired}),a.default.createElement(v.default,{formID:"new-report-disaster-type",className:"reactselect__cont--inline",label:"Disaster Type*",options:f.disasterTypes,showRequired:this.state.showDisasterTypeRequired})),a.default.createElement("div",{className:"tags"},a.default.createElement(v.default,{formID:"new-report-theme",multiselect:!0,label:"Themes",options:this.props.themes||[]})),a.default.createElement("div",{className:"report__ctrls"},a.default.createElement("button",{className:"report__ctrl report__ctrl__save",onClick:this.save},"Save")))))}}]),t}(),T=o({},p.createReport,{postReport:p.postReport,getEmergencies:p.getEmergencies,getTags:p.getTags,update:p.forms.update});r.default=(0,s.connect)(function(e){return{countries:Object.values(e.countries||{}).sort(function(e,t){return e.name<t.name?-1:1}).map(function(e){return{label:e.name,value:e.id}}),emergencies:e.emergencies[l.recentQs],reports:e.reports,qs:l.recentQs,themes:e.tags.themes,editorValue:e.newReport.value,name:e.forms["new-report-name"],reportField:e.forms["new-report-attached-reports"],emergencyField:e.forms[w],countryField:e.forms[O],typeField:e.forms["new-report-type"],themeField:e.forms["new-report-theme"],disasterField:e.forms["new-report-disaster-type"]}},T)(R)},{"../actions":"/root/repo/app/scripts/actions/index.js","../components/async-status":"/root/repo/app/scripts/components/async-status.js","../components/editable-text":"/root/repo/app/scripts/components/editable-text.js","../components/emergency-list":"/root/repo/app/scripts/components/emergency-list.js","../components/markdown-report-editor":"/root/repo/app/scripts/components/markdown-report-editor.js","../components/react-select":"/root/repo/app/scripts/components/react-select.js","../components/select":"/root/repo/app/scripts/components/select.js","../components/select-report":"/root/repo/app/scripts/components/select-report.js","../components/upload-report-success":"/root/repo/app/scripts/components/upload-report-success.js","../utils/async":"/root/repo/app/scripts/utils/async.js","../utils/notebook":"/root/repo/app/scripts/utils/notebook.js","../utils/static-types":"/root/repo/app/scripts/utils/static-types.js","../utils/timespans":"/root/repo/app/scripts/utils/timespans.js","object-path":"object-path",react:"react","react-redux":"react-redux","slate-plain-serializer":"slate-plain-serializer"}],"/root/repo/app/scripts/pages/report-detail.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=j(e("react")),a=e("react-redux"),s=e("react-router-dom"),i=j(e("js-file-download")),c=j(e("slugify")),u=e("object-path"),l=e("time-ago"),p=e("qs"),f=e("../utils/format"),d=e("../actions"),m=e("../utils/notebook"),h=j(e("../components/async-status")),y=j(e("../components/notebook")),g=j(e("../components/update-report")),v=j(e("../components/fork-report")),_=j(e("../components/versions")),b=j(e("../components/upload-report-success")),E=j(e("../components/report"));function j(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.download=function(){(0,i.default)(JSON.stringify(r.props.report.content,null,2),(0,c.default)(r.props.report.name)+".ipynb","application/json")},r.delete=function(){r.props.deleteReport({id:r.id()})},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),o(t,[{key:"componentDidMount",value:function(){this.props.report||this.props.getReport({id:this.id()}),this.props.report&&this.props.report.emergency&&!this.props.emergency&&this.props.getEmergency({emergencyID:this.props.report.emergency})}},{key:"componentDidUpdate",value:function(e){var t=this.id();if(t===e.match.params.reportID||this.props.report||this.props.getReport({id:t}),this.props.report&&this.props.report.emergency&&!this.props.emergency&&this.props.getEmergency({emergencyID:this.props.report.emergency}),this.props.report&&!e.report&&this.props.refs.length>this.props.referencedReports.length){var r=this.props.refs.length>1?"in":"eq",o="in"===r?"("+this.props.refs.join(",")+")":this.props.refs[0];this.props.getReportsWithQs({qs:"?"+(0,p.stringify)({id:r+"."+o})})}}},{key:"id",value:function(){for(var e=this.props.match.params.reportID,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return r.length?[e].concat(r).join("-"):e}},{key:"renderUpdateReport",value:function(){var e=this.props,t=e.report,r=e.isReportOwner;return n.default.createElement("div",{className:"inner"},n.default.createElement("div",{className:"report__ctrls"},n.default.createElement(s.Link,{className:"report__ctrl report__ctrl--small",to:"/reports/"+this.id()},n.default.createElement("span",{className:"collecticons collecticons-arrow-return"}),"Go back")),r?n.default.createElement(g.default,{report:t}):n.default.createElement("div",{className:"report__meta"},n.default.createElement("p",{className:"status error"},n.default.createElement("span",{className:"error__icon collecticons-circle-exclamation"})," Oops, you can only edit reports you own. Fork this report so you can edit it.")))}},{key:"renderReportRefs",value:function(){var e=this.props.referencedReports;return e.length?n.default.createElement("section",{className:"section section__refs"},n.default.createElement("h1",{className:"report__section__title"},"References"),n.default.createElement("div",{className:"report__refs__cont"},n.default.createElement("ul",{className:"report__refs"},e.map(function(e){return n.default.createElement("li",{key:e.id},n.default.createElement(E.default,{report:e}))})))):null}},{key:"renderReportOwner",value:function(){var e=this.props,t=e.report,r=e.isReportOwner?"You":(0,m.getAuthorFromEmail)(t.author);return n.default.createElement("div",{className:"report__info"},n.default.createElement("p",null,r," created this report ",(0,l.ago)(t.created_at),"."))}},{key:"renderReportMeta",value:function(){var e=this.props,t=e.report,r=e.country,o=e.emergency,a=t.tags&&t.tags.length?t.tags.map(function(e){return e.name}).join(", "):f.nope;return n.default.createElement("div",{className:"report__tags"},n.default.createElement("dl",{className:"dl"},!!o&&!!o.name&&n.default.createElement(n.default.Fragment,null,n.default.createElement("dt",null,"Emergency:"),n.default.createElement("dd",null,n.default.createElement(s.Link,{to:"/emergencies/emergency/"+o.id},o.name))),n.default.createElement("dt",null,"Disaster type:"),n.default.createElement("dd",null,(0,f.cap)(t.disaster_type)),n.default.createElement("dt",null,"Themes:"),n.default.createElement("dd",null,a),!!r&&n.default.createElement(n.default.Fragment,null,n.default.createElement("dt",null,"Country:"),n.default.createElement("dd",null,n.default.createElement(s.Link,{to:"/emergencies/country/"+r.id},r.name)))))}},{key:"renderReport",value:function(){var e=this.props,t=e.report,r=e.isReportOwner;return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"inner"},n.default.createElement("div",{className:"report__ctrls"},n.default.createElement("button",{className:"report__ctrl report__ctrl__dl",onClick:this.download},n.default.createElement("span",{className:"collecticons collecticons-download"})," Download report"),r?n.default.createElement(s.Link,{className:"report__ctrl report__ctrl__up",to:"/reports/"+this.id()+"/update"},n.default.createElement("span",{className:"collecticons collecticons-wrench"}),"Update this report"):n.default.createElement(v.default,{current:t.id}),!1),n.default.createElement("section",{className:"section"},n.default.createElement("h1",{className:"report__section__title"},"Report details"),this.renderReportOwner(),this.renderReportMeta(),n.default.createElement(_.default,{docID:t.doc_id,current:t.id}))),n.default.createElement("div",{className:"report__cont"},n.default.createElement("section",{className:"section section__report"},n.default.createElement("h1",{className:"report__section__title"},"Report body"),n.default.createElement(y.default,{data:t})),this.renderReportRefs()))}},{key:"render",value:function(){var e=this.props,t=e.report,r=e.match;if(!t)return null;var o=/update/.test(r.path);return n.default.createElement("div",{className:"page page__report"},n.default.createElement("div",{className:"page__header"},n.default.createElement("div",{className:"inner"},n.default.createElement("h2",{className:"page__title"},(0,f.reportTitle)(t)))),n.default.createElement("div",{className:"section"},n.default.createElement("div",{className:"inner"},n.default.createElement(h.default,null),n.default.createElement(b.default,null)),o?this.renderUpdateReport():this.renderReport()))}}]),t}(),O={getReport:d.getReport,getEmergency:d.getEmergency,deleteReport:d.deleteReport,getReportsWithQs:d.getReportsWithQs};r.default=(0,a.connect)(function(e,t){var r=e.reportMap[t.match.params.reportID],o=(0,u.get)(r,"author"),n=r&&r.country&&e.countries[r.country],a=r&&r.emergency&&e.emergencyMap[r.emergency],s=(0,m.getReportRefs)(r),i=s.map(function(t){return e.reports.find(function(e){return e.id===t})}).filter(Boolean);return{report:r,country:n,emergency:a,refs:s,referencedReports:i,isReportOwner:o&&o===e.user.email}},O)(w)},{"../actions":"/root/repo/app/scripts/actions/index.js","../components/async-status":"/root/repo/app/scripts/components/async-status.js","../components/fork-report":"/root/repo/app/scripts/components/fork-report.js","../components/notebook":"/root/repo/app/scripts/components/notebook.js","../components/report":"/root/repo/app/scripts/components/report.js","../components/update-report":"/root/repo/app/scripts/components/update-report.js","../components/upload-report-success":"/root/repo/app/scripts/components/upload-report-success.js","../components/versions":"/root/repo/app/scripts/components/versions.js","../utils/format":"/root/repo/app/scripts/utils/format.js","../utils/notebook":"/root/repo/app/scripts/utils/notebook.js","js-file-download":"js-file-download","object-path":"object-path",qs:"qs",react:"react","react-redux":"react-redux","react-router-dom":"react-router-dom",slugify:"slugify","time-ago":"time-ago"}],"/root/repo/app/scripts/pages/reports.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=m(e("react")),a=e("react-redux"),s=e("qs"),i=e("../actions"),c=e("../utils/static-types"),u=e("../utils/location"),l=m(e("../components/report")),p=m(e("../components/async-status")),f=m(e("../components/react-select")),d=m(e("../components/editable-text"));function m(e){return e&&e.__esModule?e:{default:e}}var h=c.disasterTypes.map(function(e){return e.value}),y=c.reportTypes.map(function(e){return e.value}),g="disaster_type",v="report_type",_="country",b="search",E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.clearFilters=function(e){e.preventDefault(),r.props.history.push("/reports")},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),o(t,[{key:"componentDidMount",value:function(){this.queryReports(),this.props.themes||this.props.getTags()}},{key:"componentDidUpdate",value:function(e){this.props.location.search!==e.location.search&&this.queryReports()}},{key:"queryReports",value:function(){var e=(0,u.currentQueryAsObject)(this.props.location.search),t={};e[g]&&h.indexOf(e[g].toLowerCase())>=0&&(t[g]="like."+e[g]),e[v]&&y.indexOf(e[v].toLowerCase())>=0&&(t[v]="like."+e[v]),e[_]&&(t[_]="eq."+e[_]),e[b]&&(t.name="fts."+e.search);var r=(0,s.stringify)(t);r=r?"?"+r:"",this.props.getReportsWithQs({qs:r})}},{key:"renderClear",value:function(){return n.default.createElement("a",{href:"#",onClick:this.clearFilters,className:"clear__filter"},n.default.createElement("span",{className:"collecticons collecticons-trash-bin"}))}},{key:"render",value:function(){var e=this.props.reports;return n.default.createElement("div",{className:"page page__reports"},n.default.createElement("div",{className:"page__header"},n.default.createElement("div",{className:"inner"},n.default.createElement("h2",{className:"page__title"},"Recent Reports"))),n.default.createElement("div",{className:"section"},n.default.createElement("div",{className:"inner"},n.default.createElement(p.default,null),n.default.createElement("h3",{className:"section__title"},"Search and filter reports ",!!this.props.location.search&&this.renderClear()),n.default.createElement("div",{className:"tags"},n.default.createElement(d.default,{canEdit:!0,formID:b,label:"Search for a report",placeholder:"Type a search...",onSubmit:function(){return!1},schemaPropertyName:"value",isLocationAware:!0})),n.default.createElement("div",{className:"tags"},n.default.createElement(f.default,{formID:_,label:"Filter by country",options:this.props.countries,isLocationAware:!0})),n.default.createElement("div",{className:"tags tags__inline"},n.default.createElement(f.default,{formID:v,className:"reactselect__cont--inline",label:"Filter by report type",options:c.reportTypes,isLocationAware:!0}),n.default.createElement(f.default,{formID:g,className:"reactselect__cont--inline",label:"Filter by disaster type",options:c.disasterTypes,isLocationAware:!0})),!1,n.default.createElement("div",{className:"reports__cont"},e.map(function(e){return n.default.createElement(l.default,{key:e.id,report:e})})))))}}]),t}(),j={getReportsWithQs:i.getReportsWithQs,getTags:i.getTags,update:i.forms.update};r.default=(0,a.connect)(function(e,t){return{countries:Object.values(e.countries||{}).sort(function(e,t){return e.name<t.name?-1:1}).map(function(e){return{label:e.name,value:e.id}}),themes:e.tags.themes,reports:e.reports,countryField:e.forms[_],typeField:e.forms[v],disasterField:e.forms[g],themeField:e.forms["filter-themes"],searchField:e.forms[b]}},j)(E)},{"../actions":"/root/repo/app/scripts/actions/index.js","../components/async-status":"/root/repo/app/scripts/components/async-status.js","../components/editable-text":"/root/repo/app/scripts/components/editable-text.js","../components/react-select":"/root/repo/app/scripts/components/react-select.js","../components/report":"/root/repo/app/scripts/components/report.js","../utils/location":"/root/repo/app/scripts/utils/location.js","../utils/static-types":"/root/repo/app/scripts/utils/static-types.js",qs:"qs",react:"react","react-redux":"react-redux"}],"/root/repo/app/scripts/reducers/async.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1],r=t.type,n=(t.payload,t.error);if(c.indexOf(r)>=0)return o({},e,{type:r,loading:e.loading+1});if(u.indexOf(r)>=0)return o({},e,{type:r,loading:e.loading-1,error:null});if(l.indexOf(r)>=0)return o({},e,{type:r,loading:e.loading-1,error:n});return e};var n,a=e("../actions/types"),s=(n=a)&&n.__esModule?n:{default:n};var i={type:null,loading:0,error:null},c=[s.default.GET_REPORTS,s.default.GET_REPORT,s.default.GET_REPORT_VERSIONS,s.default.PATCH_REPORT,s.default.READ_REPORT,s.default.POST_REPORT,s.default.DELETE_REPORT,s.default.GET_COUNTRIES,s.default.GET_EMERGENCIES],u=c.map(function(e){return e+"_SUCCESS"}),l=c.map(function(e){return e+"_FAIL"})},{"../actions/types":"/root/repo/app/scripts/actions/types.js"}],"/root/repo/app/scripts/reducers/countries.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=e("object-path"),s=e("../actions/types"),i=(o=s)&&o.__esModule?o:{default:o},c=e("../utils/async");var u={};r.default=function(){var e,t,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,s=arguments[1];switch(s.type){case i.default.GET_COUNTRIES_SUCCESS:return n({},o,function(e,t){var r={};return(0,a.get)(e,"response.data.results",[]).forEach(function(e){r[e.id]=Object.assign({},t[e.id]||{},{id:e.id,iso:e.iso,name:e.name,region:e.region})}),r}(s,o));case i.default.GET_STATIC_COUNTRY_ASSETS_SUCCESS:var l=s.payload.countryID;return n({},o,(e={},t=l,r=n({},o[l],(0,c.getAsyncResponseData)(s)),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e))}return o}},{"../actions/types":"/root/repo/app/scripts/actions/types.js","../utils/async":"/root/repo/app/scripts/utils/async.js","object-path":"object-path"}],"/root/repo/app/scripts/reducers/emergencies.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=e("object-path"),s=e("../actions/types"),i=(o=s)&&o.__esModule?o:{default:o};function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case i.default.GET_EMERGENCIES:return n({},e,c({},t.payload.qs,{data:[]}));case i.default.GET_EMERGENCIES_SUCCESS:return n({},e,c({},t.payload.qs,{data:(0,a.get)(t,"response.data.results",[])}))}return e}},{"../actions/types":"/root/repo/app/scripts/actions/types.js","object-path":"object-path"}],"/root/repo/app/scripts/reducers/emergency-map.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=e("../actions/types"),s=(o=a)&&o.__esModule?o:{default:o},i=e("../utils/async");function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case s.default.GET_EMERGENCY:return n({},e,c({},t.payload.emergencyID,{}));case s.default.GET_EMERGENCY_SUCCESS:case s.default.GET_STATIC_EMERGENCY_ASSETS_SUCCESS:return n({},e,c({},t.payload.emergencyID,Object.assign({},e[t.payload.emergencyID],(0,i.getAsyncResponseData)(t),!0)))}return e}},{"../actions/types":"/root/repo/app/scripts/actions/types.js","../utils/async":"/root/repo/app/scripts/utils/async.js"}],"/root/repo/app/scripts/reducers/featured-emergencies.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("object-path"),n=i(e("lodash.without")),a=i(e("../actions/types")),s=e("../utils/async");function i(e){return e&&e.__esModule?e:{default:e}}var c=[];r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];if(t.type===a.default.GET_FEATURED_EMERGENCIES_SUCCESS){var r=(0,s.getAsyncResponseData)(t,!0);return(0,n.default)((0,o.get)(r,"featured",[]),(0,o.get)(r,"archived",[]))}return e}},{"../actions/types":"/root/repo/app/scripts/actions/types.js","../utils/async":"/root/repo/app/scripts/utils/async.js","lodash.without":"lodash.without","object-path":"object-path"}],"/root/repo/app/scripts/reducers/forms.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=e("../actions/types"),s=(o=a)&&o.__esModule?o:{default:o};function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],r=t.type,o=t.payload;switch(r){case s.default.CREATE_FORM:return n({},e,i({},o.formID,o.initialValue));case s.default.UPDATE_FORM:return n({},e,i({},o.formID,o.value));case s.default.DESTROY_FORM:return n({},e,i({},o.formID,null))}return e}},{"../actions/types":"/root/repo/app/scripts/actions/types.js"}],"/root/repo/app/scripts/reducers/index.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("redux"),n=g(e("./async")),a=g(e("./reports")),s=g(e("./report-map")),i=g(e("./report-versions")),c=g(e("./forms")),u=g(e("./upload-report")),l=g(e("./new-report")),p=g(e("./user")),f=g(e("./countries")),d=g(e("./emergencies")),m=g(e("./emergency-map")),h=g(e("./featured-emergencies")),y=g(e("./tags"));function g(e){return e&&e.__esModule?e:{default:e}}r.default=(0,o.combineReducers)({reports:a.default,reportMap:s.default,reportVersions:i.default,async:n.default,forms:c.default,uploadReport:u.default,newReport:l.default,user:p.default,countries:f.default,emergencies:d.default,emergencyMap:m.default,featured:h.default,tags:y.default})},{"./async":"/root/repo/app/scripts/reducers/async.js","./countries":"/root/repo/app/scripts/reducers/countries.js","./emergencies":"/root/repo/app/scripts/reducers/emergencies.js","./emergency-map":"/root/repo/app/scripts/reducers/emergency-map.js","./featured-emergencies":"/root/repo/app/scripts/reducers/featured-emergencies.js","./forms":"/root/repo/app/scripts/reducers/forms.js","./new-report":"/root/repo/app/scripts/reducers/new-report.js","./report-map":"/root/repo/app/scripts/reducers/report-map.js","./report-versions":"/root/repo/app/scripts/reducers/report-versions.js","./reports":"/root/repo/app/scripts/reducers/reports.js","./tags":"/root/repo/app/scripts/reducers/tags.js","./upload-report":"/root/repo/app/scripts/reducers/upload-report.js","./user":"/root/repo/app/scripts/reducers/user.js",redux:"redux"}],"/root/repo/app/scripts/reducers/new-report.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=e("../actions/types"),a=(o=n)&&o.__esModule?o:{default:o};var s={value:null};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],r=t.type,o=t.payload;switch(r){case a.default.CREATE_REPORT_SYNC:return{value:o.value};case a.default.CREATE_REPORT_CLEAR:return{value:null}}return e}},{"../actions/types":"/root/repo/app/scripts/actions/types.js"}],"/root/repo/app/scripts/reducers/report-map.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=e("../actions/types"),s=(o=a)&&o.__esModule?o:{default:o},i=e("../utils/async");var c={};r.default=function(){var e,t,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,a=arguments[1];switch(a.type){case s.default.GET_REPORT_SUCCESS:case s.default.PATCH_REPORT_SUCCESS:case s.default.POST_REPORT_SUCCESS:return n({},o,(e={},t=a.payload.id,(u=(0,i.getAsyncResponseData)(a,!0)).content.hasOwnProperty("metadata")||(u.content.metadata={}),u.created_at=new Date(u.created_at).getTime(),r=u,t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e))}var u;return o}},{"../actions/types":"/root/repo/app/scripts/actions/types.js","../utils/async":"/root/repo/app/scripts/utils/async.js"}],"/root/repo/app/scripts/reducers/report-versions.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=i(e("lodash.keyby")),a=i(e("../actions/types")),s=e("../utils/async");function i(e){return e&&e.__esModule?e:{default:e}}var c={};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case a.default.GET_REPORT_VERSIONS_SUCCESS:var r=(0,s.getAsyncResponseData)(t).map(function(e){return o({},e,{created_at:new Date(e.created_at).getTime()})}),i=(0,n.default)(r,"id");return o({},e,i)}return e}},{"../actions/types":"/root/repo/app/scripts/actions/types.js","../utils/async":"/root/repo/app/scripts/utils/async.js","lodash.keyby":"lodash.keyby"}],"/root/repo/app/scripts/reducers/reports.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];if(t.type===n.default.GET_REPORTS_SUCCESS)return function(e){var t=(0,s.default)(e,"doc_id");for(var r in t)t[r]=t[r].map(function(e){return o({},e,{created_at:new Date(e.created_at).getTime()})}).sort(function(e,t){return e.created_at<t.created_at?1:-1});return Object.values(t).map(function(e){return e[0]}).sort(function(e,t){return e.created_at<t.created_at?1:-1})}((0,a.getAsyncResponseData)(t));return e};var n=i(e("../actions/types")),a=e("../utils/async"),s=i(e("lodash.groupby"));function i(e){return e&&e.__esModule?e:{default:e}}var c=[]},{"../actions/types":"/root/repo/app/scripts/actions/types.js","../utils/async":"/root/repo/app/scripts/utils/async.js","lodash.groupby":"lodash.groupby"}],"/root/repo/app/scripts/reducers/tags.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=e("../utils/async"),a=e("../actions/types"),s=(o=a)&&o.__esModule?o:{default:o};var i={themes:null};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case s.default.GET_TAGS:return{themes:[]};case s.default.GET_TAGS_SUCCESS:return{themes:(0,n.getAsyncResponseData)(t).map(function(e){return{label:e.name,value:e.id}})}}return e}},{"../actions/types":"/root/repo/app/scripts/actions/types.js","../utils/async":"/root/repo/app/scripts/utils/async.js"}],"/root/repo/app/scripts/reducers/upload-report.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case s.default.READ_REPORT_FAIL:return o({},e,{nextReport:null});case s.default.READ_REPORT_SUCCESS:return o({},e,{nextReport:t.payload.report});case s.default.POST_REPORT_SUCCESS:return o({},e,{nextReportID:(0,i.getAsyncResponseData)(t).id});case s.default.CLEAR_UPLOAD_REPORT_STATE:return{nextReport:null,nextReportID:null}}return e};var n,a=e("../actions/types"),s=(n=a)&&n.__esModule?n:{default:n},i=e("../utils/async");var c={nextReport:null,nextReportID:null}},{"../actions/types":"/root/repo/app/scripts/actions/types.js","../utils/async":"/root/repo/app/scripts/utils/async.js"}],"/root/repo/app/scripts/reducers/user.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=e("../actions/types"),s=(o=a)&&o.__esModule?o:{default:o};var i={isLoggedIn:!1,accessToken:null,idToken:null,email:null,expiresAt:0};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1],r=t.type,o=t.payload;switch(r){case s.default.SET_USER_CREDENTIALS:return{isLoggedIn:!0,accessToken:o.accessToken,idToken:o.idToken,email:o.email,expiresAt:o.expiresAt};case s.default.CLEAR_USER_CREDENTIALS:return n({},i)}return e}},{"../actions/types":"/root/repo/app/scripts/actions/types.js"}],"/root/repo/app/scripts/store.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("redux"),n=i(e("redux-thunk")),a=i(e("./reducers")),s=e("./config");function i(e){return e&&e.__esModule?e:{default:e}}var c=[n.default];if("production"!==s.environment){var u=e("redux-logger").default;c.push(u)}var l="production"!==s.environment&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.compose;r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.createStore)(a.default,e,l(o.applyMiddleware.apply(void 0,c)))}},{"./config":"/root/repo/app/scripts/config.js","./reducers":"/root/repo/app/scripts/reducers/index.js",redux:"redux","redux-logger":"redux-logger","redux-thunk":"redux-thunk"}],"/root/repo/app/scripts/utils/async.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSimpleNotebookPayload=r.getForkPayloadFromReport=r.getAsyncResponseData=void 0;var o,n=e("object-path"),a=e("assert"),s=(o=a)&&o.__esModule?o:{default:o};r.getAsyncResponseData=function(e,t){(0,s.default)((0,n.get)(e,"response.status"),200);var r=t?null:[];return(0,n.get)(e,"response.data",r)},r.getForkPayloadFromReport=function(e){var t=Object.assign({},e);t.forked_from=e.id;return["id","doc_id","created_at"].forEach(function(e){delete t[e]}),t};var i=function(e){return{cell_type:"heading",level:1,metadata:{},source:[e]}},c=function(e){return{cell_type:"markdown",metadata:{},source:[e]}};r.getSimpleNotebookPayload=function(e,t){var r={cells:[],metadata:{}};return r.cells.push(i(e)),r.cells.push(c(t)),{content:r,name:e}}},{assert:"assert","object-path":"object-path"}],"/root/repo/app/scripts/utils/centroids.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getCentroid=function(e){return o[e.toUpperCase()]||[0,0]};var o={AD:[1.6261,42.54203],AE:[54.33582,23.89438],AF:[66.062,33.91115],AG:[-61.80009,17.27174],AL:[20.06906,41.15508],AM:[44.93583,40.30103],AO:[17.55146,-12.35418],AR:[-65.41232,-36.63219],AT:[14.14499,47.59781],AU:[134.60042,-26.23261],AZ:[47.52523,40.30717],BA:[17.78132,44.18098],BB:[-59.55496,13.16734],BD:[90.27279,23.85597],BE:[4.65732,50.64786],BF:[-1.74227,12.28281],BG:[25.24208,42.7774],BH:[50.57051,26.04631],BI:[29.89056,-3.36738],BJ:[2.34039,9.66053],BN:[114.748,4.5212],BO:[-64.65913,-16.77718],BR:[-53.01781,-11.16674],BS:[-76.66512,24.29034],BT:[90.44804,27.39177],BW:[23.80898,-22.23688],BY:[28.0625,53.58819],BZ:[-88.68666,17.21108],CA:[-99.28886,59.9086],CD:[23.66361,-2.90757],CF:[20.48924,6.58162],CG:[15.24525,-.83284],CH:[8.23174,46.80575],CI:[-5.55504,7.63225],CK:[-158.91987,-19.29057],CL:[-71.52595,-40.55229],CM:[12.74587,5.71522],CN:[104.38856,34.20772],CO:[-73.08845,3.92692],CR:[-84.19963,9.97045],CU:[-79.02937,21.63415],CV:[-23.98181,15.94668],CY:[33.23035,35.05575],CZ:[15.32939,49.74843],DE:[10.40287,51.22148],DJ:[42.58054,11.73486],DK:[10.04607,55.97873],DM:[-61.35,15.43463],DO:[-70.49326,18.89742],DZ:[2.64424,28.43024],EC:[-78.77063,-1.42707],EE:[25.5502,58.6821],EG:[29.76913,26.66474],ER:[38.82989,15.39205],ES:[-3.61969,40.34191],ET:[39.63106,8.66051],FI:[27.1217,64.71212],FJ:[162.0549,-17.45175],FM:[154.62911,7.08661],FR:[2.81671,46.48338],GA:[11.78368,-.62321],GB:[-1.94575,53.83236],GD:[-61.65861,12.15345],GE:[43.49841,42.18803],GH:[-1.20742,7.97283],GM:[-15.38814,13.44669],GN:[-10.94359,10.44307],GQ:[10.33437,1.70317],GR:[22.98479,39.10089],GT:[-90.35588,15.70455],GW:[-14.98708,12.01401],GY:[-58.98391,4.80553],HN:[-86.61638,14.82381],HR:[15.29765,44.88221],HT:[-72.68297,18.94108],HU:[19.42483,47.17753],ID:[117.28659,-2.23869],IE:[-8.1489,53.20728],IL:[34.80938,31.74951],IN:[79.64146,23.20128],IQ:[43.75024,33.11963],IR:[54.22059,32.75858],IS:[-18.59158,65.0181],IT:[12.01262,42.96331],JM:[-77.31081,18.15633],JO:[36.79808,31.26931],JP:[138.71114,36.34262],KE:[37.8574,.5373],KG:[74.57145,41.48527],KH:[104.9193,12.71439],KI:[-157.67009,1.97898],KM:[43.6715,-11.88806],KN:[-62.70441,17.27412],KP:[127.19306,40.17577],KR:[127.80849,36.37891],KW:[47.61131,29.35678],KZ:[67.29012,48.43984],LA:[103.40836,18.95552],LB:[35.89357,33.92416],LC:[-60.96675,13.89842],LI:[9.55214,47.14257],LK:[80.69857,7.62117],LR:[-9.30986,6.45208],LS:[28.25277,-29.58356],LT:[23.90383,55.34981],LU:[6.09463,49.77852],LV:[24.92378,56.86378],LY:[18.00191,27.16487],MA:[-9.82845,28.45992],MC:[7.42327,43.73568],MD:[28.46545,47.21609],ME:[19.24777,42.79004],MG:[46.67963,-19.471],MH:[168.98764,8.68033],MK:[21.7016,41.60323],ML:[-3.50129,17.45432],MM:[96.50478,21.24691],MN:[103.03094,46.97477],MR:[-10.31837,20.34811],MT:[14.40089,35.92328],MU:[57.89526,-20.12869],MV:[73.22518,3.72761],MW:[34.30439,-13.23808],MX:[-102.72509,24.19151],MY:[109.70771,3.79525],MZ:[35.51725,-17.39806],NA:[17.22783,-22.25571],NE:[9.42842,17.48659],NG:[8.09729,9.60828],NI:[-85.03743,12.85177],NL:[4.81463,51.9369],NO:[11.93108,64.5479],NP:[83.92501,28.27358],NR:[166.93448,-.52847],NU:[-169.86017,-19.05003],NZ:[171.36178,-42.01823],OM:[56.11953,20.63936],PA:[-80.09792,8.51089],PE:[-74.34316,-9.25336],PG:[145.25959,-6.48598],PH:[122.84864,11.81512],PK:[69.48947,30.14431],PL:[19.38567,52.18709],PS:[35.15322,31.5545],PT:[-8.51307,39.64115],PW:[134.462,7.35732],PY:[-58.37428,-23.28329],QA:[51.19921,25.28336],RO:[24.9825,45.87779],RS:[20.88123,43.56843],RU:[97.85561,64.85622],RW:[29.92315,-2.00227],SA:[44.47317,24.28085],SB:[159.56727,-8.89213],SC:[51.75064,-6.77819],SD:[29.97321,16.10722],SE:[16.20088,63.48045],SG:[103.82013,1.3566],SI:[14.83271,46.12716],SK:[19.48806,48.71198],SL:[-11.79203,8.56421],SM:[12.46318,43.9383],SN:[-14.47618,14.36831],SO:[47.64956,5.87928],SR:[-55.91813,4.13562],SS:[30.29278,7.34361],ST:[6.72681,.44571],SV:[-88.86399,13.72958],SY:[38.50608,35.04433],SZ:[31.50151,-26.5667],TD:[18.67009,15.47308],TG:[.97644,8.53555],TH:[101.0158,15.19165],TJ:[71.00597,38.54231],TL:[125.85163,-8.82074],TM:[59.13821,39.25239],TN:[9.57723,34.16122],TO:[-174.82362,-19.88308],TR:[35.16553,39.10449],TT:[-61.25915,10.4744],TZ:[34.82892,-6.28361],UA:[31.35547,49.09084],UG:[32.38872,1.28269],US:[-99.6173,38.88807],UY:[-56.00963,-32.8237],UZ:[63.08059,41.83882],VA:[12.45289,41.90348],VC:[-61.20455,13.18676],VE:[-66.15889,7.14364],VN:[107.47287,16.59482],VU:[167.70877,-16.21335],WS:[-172.17179,-13.7449],YE:[47.60423,15.92242],ZA:[25.03993,-29.13053],ZM:[27.7764,-13.49299],ZW:[29.86906,-19.02359]};r.default=o},{}],"/root/repo/app/scripts/utils/format.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.n=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},r.reportTitle=function(e){return o(e.report_type)+": "+e.name+" ("+n(e.created_at)+")"},r.cap=o,r.reportDate=n;r.nope="--";function o(e){return e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length).toLowerCase()}).join(" ")}function n(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}},{}],"/root/repo/app/scripts/utils/initial-editor-value.json":[function(e,t,r){t.exports={document:{nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:"Write a report here. FYI we support Markdown!"}]}]}]}}},{}],"/root/repo/app/scripts/utils/location.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.currentQueryAsObject=n,r.syncLocation=function(e,t,r,a){var s=n(t.search);(!r&&s.hasOwnProperty(a)||r&&r!==s[a])&&(s[a]=r,!r&&delete s[a],e.push(t.pathname+"?"+(0,o.stringify)(s)))};var o=e("qs");function n(e){return e.length?(0,o.parse)(e.slice(1,e.length)):{}}},{qs:"qs"}],"/root/repo/app/scripts/utils/notebook.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};r.getImageFromOutput=l,r.getReportLeadImage=function(e){var t=(0,a.get)(e,"content.cells",[]);if(2===t.length&&"markdown"===t[1].cell_type){var r=(i=t[1].source[0],(c=/(?:!\[(.*?)\]\((.*?)\))/g.exec(i))&&c[2]);return r&&{imageUri:r}}for(var o=t.length-1;o>=0;o-=1){var n=t[o];if(Array.isArray(n.outputs)){var s=n.outputs.find(l);if(s)return l(s)}}var i,c},r.getAuthorFromEmail=function(e){return e.split("@")[0]||"Author"},r.setReportRefs=function(e,t){return(0,i.default)(Array.isArray(t),!0),(0,a.set)(e,"content.metadata.report_refs",t),o({},e)},r.getReportRefs=function(e,t){var r=(0,a.get)(e,"content.metadata.report_refs",[]);return t?r.join(", "):r};var n,a=e("object-path"),s=e("assert"),i=(n=s)&&n.__esModule?n:{default:n};var c=["image/jpeg","image/png"],u=["jpeg","png"];function l(e){if(!e||"display_data"!==e.output_type)return!1;for(var t=0;t<u.length;++t)if(e.hasOwnProperty(u[t]))return{dataUri:e[u[t]],mime:c[t]};if(e.hasOwnProperty("data"))for(var r=0;r<c.length;++r)if(e.data.hasOwnProperty(c[r]))return{dataUri:e.data[c[r]],mime:c[r]};return!1}},{assert:"assert","object-path":"object-path"}],"/root/repo/app/scripts/utils/static-types.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypes=r.disasterTypes=void 0;var o=a(e("../../static/disaster-types.json")),n=a(e("../../static/report-types.json"));function a(e){return e&&e.__esModule?e:{default:e}}r.disasterTypes=o.default.map(function(e){return{label:e.name,value:e.name.toLowerCase()}}),r.reportTypes=n.default.map(function(e){return{label:e.type,value:e.type.toLowerCase()}})},{"../../static/disaster-types.json":"/root/repo/app/static/disaster-types.json","../../static/report-types.json":"/root/repo/app/static/report-types.json"}],"/root/repo/app/scripts/utils/timespans.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.recentQs=r.lastWeek=r.recent=r.now=void 0;var o=e("qs"),n=r.now=new Date,a=r.recent=new Date(n.getTime()-2592e6);r.lastWeek=new Date(n.getTime()-6048e5),r.recentQs=(0,o.stringify)({disaster_start_date__gt:a,ordering:"-disaster_start_date",limit:100})},{qs:"qs"}],"/root/repo/app/static/disaster-types.json":[function(e,t,r){t.exports=[{name:"Cold Wave",glide:"CW"},{name:"Drought",glide:"DR"},{name:"Earthquake",glide:"EQ"},{name:"Epidemic",glide:"EP"},{name:"Extratropical Cyclone",glide:"ET"},{name:"Fire",glide:"FR"},{name:"Flash Flood",glide:"FF"},{name:"Flood",glide:"FL"},{name:"Heat Wave",glide:"HT"},{name:"Insect Infestation",glide:"IN"},{name:"Land Slide",glide:"LS"},{name:"Mud Slide",glide:"MS"},{name:"Other",glide:"OT"},{name:"Severe Local Storm",glide:"ST"},{name:"Snow Avalanche",glide:"AV"},{name:"Storm Surge",glide:"SS"},{name:"Technological Disaster",glide:"AC"},{name:"Tropical Cyclone",glide:"TC"},{name:"Tsunami",glide:"TS"},{name:"Volcano",glide:"VO"},{name:"Wild Fire",glide:"WF"}]},{}],"/root/repo/app/static/report-types.json":[function(e,t,r){t.exports=[{type:"Situation Report"},{type:"Analysis"},{type:"Methodology"}]},{}],"/root/repo/node_modules/invariant/browser.js":[function(e,t,r){"use strict";t.exports=function(e,t,r,o,n,a,s,i){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,o,n,a,s,i],l=0;(c=new Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},{}],"/root/repo/node_modules/isarray/index.js":[function(e,t,r){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],"/root/repo/node_modules/object-assign/index.js":[function(e,t,r){"use strict";var o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,i=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in r=Object(arguments[c]))n.call(r,u)&&(i[u]=r[u]);if(o){s=o(r);for(var l=0;l<s.length;l++)a.call(r,s[l])&&(i[s[l]]=r[s[l]])}}return i}},{}],"/root/repo/node_modules/path-to-regexp/index.js":[function(e,t,r){var o=e("isarray");t.exports=d,t.exports.parse=a,t.exports.compile=function(e,t){return i(a(e,t))},t.exports.tokensToFunction=i,t.exports.tokensToRegExp=f;var n=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var r,o=[],a=0,s=0,i="",l=t&&t.delimiter||"/";null!=(r=n.exec(e));){var p=r[0],f=r[1],d=r.index;if(i+=e.slice(s,d),s=d+p.length,f)i+=f[1];else{var m=e[s],h=r[2],y=r[3],g=r[4],v=r[5],_=r[6],b=r[7];i&&(o.push(i),i="");var E=null!=h&&null!=m&&m!==h,j="+"===_||"*"===_,w="?"===_||"*"===_,O=r[2]||l,R=g||v;o.push({name:y||a++,prefix:h||"",delimiter:O,optional:w,repeat:j,partial:E,asterisk:!!b,pattern:R?u(R):b?".*":"[^"+c(O)+"]+?"})}}return s<e.length&&(i+=e.substr(s)),i&&o.push(i),o}function s(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function i(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,n){for(var a="",i=r||{},c=(n||{}).pretty?s:encodeURIComponent,u=0;u<e.length;u++){var l=e[u];if("string"!==typeof l){var p,f=i[l.name];if(null==f){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(o(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(p=c(f[d]),!t[u].test(p))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(p)+"`");a+=(0===d?l.prefix:l.delimiter)+p}}else{if(p=l.asterisk?encodeURI(f).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):c(f),!t[u].test(p))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+p+'"');a+=l.prefix+p}}else a+=l}return a}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function f(e,t,r){o(t)||(r=t||r,t=[]);for(var n=(r=r||{}).strict,a=!1!==r.end,s="",i=0;i<e.length;i++){var u=e[i];if("string"===typeof u)s+=c(u);else{var f=c(u.prefix),d="(?:"+u.pattern+")";t.push(u),u.repeat&&(d+="(?:"+f+d+")*"),s+=d=u.optional?u.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var m=c(r.delimiter||"/"),h=s.slice(-m.length)===m;return n||(s=(h?s.slice(0,-m.length):s)+"(?:"+m+"(?=$))?"),s+=a?"$":n&&h?"":"(?="+m+"|$)",l(new RegExp("^"+s,p(r)),t)}function d(e,t,r){return o(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var o=0;o<r.length;o++)t.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):o(e)?function(e,t,r){for(var o=[],n=0;n<e.length;n++)o.push(d(e[n],t,r).source);return l(new RegExp("(?:"+o.join("|")+")",p(r)),t)}(e,t,r):function(e,t,r){return f(a(e,r),t,r)}(e,t,r)}},{isarray:"/root/repo/node_modules/isarray/index.js"}],"/root/repo/node_modules/process/browser.js":[function(e,t,r){var o,n,a=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(o===setTimeout)return setTimeout(e,0);if((o===s||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"===typeof setTimeout?setTimeout:s}catch(e){o=s}try{n="function"===typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var u,l=[],p=!1,f=-1;function d(){p&&u&&(p=!1,u.length?l=u.concat(l):f=-1,l.length&&m())}function m(){if(!p){var e=c(d);p=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,p=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||p||c(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.prependListener=y,a.prependOnceListener=y,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],"/root/repo/node_modules/prop-types/checkPropTypes.js":[function(e,t,r){"use strict";function o(e,t,r,o,n){}o.resetWarningCache=function(){0},t.exports=o},{"./lib/ReactPropTypesSecret":"/root/repo/node_modules/prop-types/lib/ReactPropTypesSecret.js"}],"/root/repo/node_modules/prop-types/factoryWithThrowingShims.js":[function(e,t,r){"use strict";var o=e("./lib/ReactPropTypesSecret");function n(){}function a(){}a.resetWarningCache=n,t.exports=function(){function e(e,t,r,n,a,s){if(s!==o){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return r.PropTypes=r,r}},{"./lib/ReactPropTypesSecret":"/root/repo/node_modules/prop-types/lib/ReactPropTypesSecret.js"}],"/root/repo/node_modules/prop-types/factoryWithTypeCheckers.js":[function(e,t,r){"use strict";var o=e("react-is"),n=e("object-assign"),a=e("./lib/ReactPropTypesSecret"),s=e("./checkPropTypes"),i=Function.call.bind(Object.prototype.hasOwnProperty),c=function(){};function u(){return null}t.exports=function(e,t){var r="function"===typeof Symbol&&Symbol.iterator,l="@@iterator";var p="<<anonymous>>",f={array:y("array"),bool:y("boolean"),func:y("function"),number:y("number"),object:y("object"),string:y("string"),symbol:y("symbol"),any:h(u),arrayOf:function(e){return h(function(t,r,o,n,s){if("function"!==typeof e)return new m("Property `"+s+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var i=t[r];if(!Array.isArray(i)){var c=v(i);return new m("Invalid "+n+" `"+s+"` of type `"+c+"` supplied to `"+o+"`, expected an array.")}for(var u=0;u<i.length;u++){var l=e(i,u,o,n,s+"["+u+"]",a);if(l instanceof Error)return l}return null})},element:function(){return h(function(t,r,o,n,a){var s=t[r];if(!e(s)){var i=v(s);return new m("Invalid "+n+" `"+a+"` of type `"+i+"` supplied to `"+o+"`, expected a single ReactElement.")}return null})}(),elementType:function(){return h(function(e,t,r,n,a){var s=e[t];if(!o.isValidElementType(s)){var i=v(s);return new m("Invalid "+n+" `"+a+"` of type `"+i+"` supplied to `"+r+"`, expected a single ReactElement type.")}return null})}(),instanceOf:function(e){return h(function(t,r,o,n,a){if(!(t[r]instanceof e)){var s=e.name||p,i=function(e){if(!e.constructor||!e.constructor.name)return p;return e.constructor.name}(t[r]);return new m("Invalid "+n+" `"+a+"` of type `"+i+"` supplied to `"+o+"`, expected instance of `"+s+"`.")}return null})},node:function(){return h(function(e,t,r,o,n){if(!g(e[t]))return new m("Invalid "+o+" `"+n+"` supplied to `"+r+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return h(function(t,r,o,n,s){if("function"!==typeof e)return new m("Property `"+s+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var c=t[r],u=v(c);if("object"!==u)return new m("Invalid "+n+" `"+s+"` of type `"+u+"` supplied to `"+o+"`, expected an object.");for(var l in c)if(i(c,l)){var p=e(c,l,o,n,s+"."+l,a);if(p instanceof Error)return p}return null})},oneOf:function(e){if(!Array.isArray(e))return u;return h(function(t,r,o,n,a){for(var s=t[r],i=0;i<e.length;i++)if(d(s,e[i]))return null;var c=JSON.stringify(e,function(e,t){var r=_(t);return"symbol"===r?String(t):t});return new m("Invalid "+n+" `"+a+"` of value `"+String(s)+"` supplied to `"+o+"`, expected one of "+c+".")})},oneOfType:function(e){if(!Array.isArray(e))return u;for(var t=0;t<e.length;t++){var r=e[t];if("function"!==typeof r)return c("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+b(r)+" at index "+t+"."),u}return h(function(t,r,o,n,s){for(var i=0;i<e.length;i++){var c=e[i];if(null==c(t,r,o,n,s,a))return null}return new m("Invalid "+n+" `"+s+"` supplied to `"+o+"`.")})},shape:function(e){return h(function(t,r,o,n,s){var i=t[r],c=v(i);if("object"!==c)return new m("Invalid "+n+" `"+s+"` of type `"+c+"` supplied to `"+o+"`, expected `object`.");for(var u in e){var l=e[u];if(l){var p=l(i,u,o,n,s+"."+u,a);if(p)return p}}return null})},exact:function(e){return h(function(t,r,o,s,i){var c=t[r],u=v(c);if("object"!==u)return new m("Invalid "+s+" `"+i+"` of type `"+u+"` supplied to `"+o+"`, expected `object`.");var l=n({},t[r],e);for(var p in l){var f=e[p];if(!f)return new m("Invalid "+s+" `"+i+"` key `"+p+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(t[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=f(c,p,o,s,i+"."+p,a);if(d)return d}return null})}};function d(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function m(e){this.message=e,this.stack=""}function h(e){function r(r,o,n,s,i,c,u){if((s=s||p,c=c||n,u!==a)&&t){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}return null==o[n]?r?null===o[n]?new m("The "+i+" `"+c+"` is marked as required in `"+s+"`, but its value is `null`."):new m("The "+i+" `"+c+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(o,n,s,i,c)}var o=r.bind(null,!1);return o.isRequired=r.bind(null,!0),o}function y(e){return h(function(t,r,o,n,a,s){var i=t[r];return v(i)!==e?new m("Invalid "+n+" `"+a+"` of type `"+_(i)+"` supplied to `"+o+"`, expected `"+e+"`."):null})}function g(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(g);if(null===t||e(t))return!0;var o=function(e){var t=e&&(r&&e[r]||e[l]);if("function"===typeof t)return t}(t);if(!o)return!1;var n,a=o.call(t);if(o!==t.entries){for(;!(n=a.next()).done;)if(!g(n.value))return!1}else for(;!(n=a.next()).done;){var s=n.value;if(s&&!g(s[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function _(e){if("undefined"===typeof e||null===e)return""+e;var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=_(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return m.prototype=Error.prototype,f.checkPropTypes=s,f.resetWarningCache=s.resetWarningCache,f.PropTypes=f,f}},{"./checkPropTypes":"/root/repo/node_modules/prop-types/checkPropTypes.js","./lib/ReactPropTypesSecret":"/root/repo/node_modules/prop-types/lib/ReactPropTypesSecret.js","object-assign":"/root/repo/node_modules/object-assign/index.js","react-is":"/root/repo/node_modules/react-is/index.js"}],"/root/repo/node_modules/prop-types/index.js":[function(e,t,r){t.exports=e("./factoryWithThrowingShims")()},{"./factoryWithThrowingShims":"/root/repo/node_modules/prop-types/factoryWithThrowingShims.js","./factoryWithTypeCheckers":"/root/repo/node_modules/prop-types/factoryWithTypeCheckers.js","react-is":"/root/repo/node_modules/react-is/index.js"}],"/root/repo/node_modules/prop-types/lib/ReactPropTypesSecret.js":[function(e,t,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],"/root/repo/node_modules/punycode/punycode.js":[function(e,t,r){(function(e){!function(o){var n="object"==typeof r&&r&&!r.nodeType&&r,a="object"==typeof t&&t&&!t.nodeType&&t,s="object"==typeof e&&e;s.global!==s&&s.window!==s&&s.self!==s||(o=s);var i,c,u=2147483647,l=36,p=1,f=26,d=38,m=700,h=72,y=128,g="-",v=/^xn--/,_=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=l-p,w=Math.floor,O=String.fromCharCode;function R(e){throw new RangeError(E[e])}function T(e,t){for(var r=e.length,o=[];r--;)o[r]=t(e[r]);return o}function S(e,t){var r=e.split("@"),o="";return r.length>1&&(o=r[0]+"@",e=r[1]),o+T((e=e.replace(b,".")).split("."),t).join(".")}function x(e){for(var t,r,o=[],n=0,a=e.length;n<a;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<a?56320==(64512&(r=e.charCodeAt(n++)))?o.push(((1023&t)<<10)+(1023&r)+65536):(o.push(t),n--):o.push(t);return o}function C(e){return T(e,function(e){var t="";return e>65535&&(t+=O((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=O(e)}).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,r){var o=0;for(e=r?w(e/m):e>>1,e+=w(e/t);e>j*f>>1;o+=l)e=w(e/j);return w(o+(j+1)*e/(e+d))}function N(e){var t,r,o,n,a,s,i,c,d,m,v,_=[],b=e.length,E=0,j=y,O=h;for((r=e.lastIndexOf(g))<0&&(r=0),o=0;o<r;++o)e.charCodeAt(o)>=128&&R("not-basic"),_.push(e.charCodeAt(o));for(n=r>0?r+1:0;n<b;){for(a=E,s=1,i=l;n>=b&&R("invalid-input"),((c=(v=e.charCodeAt(n++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:l)>=l||c>w((u-E)/s))&&R("overflow"),E+=c*s,!(c<(d=i<=O?p:i>=O+f?f:i-O));i+=l)s>w(u/(m=l-d))&&R("overflow"),s*=m;O=k(E-a,t=_.length+1,0==a),w(E/t)>u-j&&R("overflow"),j+=w(E/t),E%=t,_.splice(E++,0,j)}return C(_)}function M(e){var t,r,o,n,a,s,i,c,d,m,v,_,b,E,j,T=[];for(_=(e=x(e)).length,t=y,r=0,a=h,s=0;s<_;++s)(v=e[s])<128&&T.push(O(v));for(o=n=T.length,n&&T.push(g);o<_;){for(i=u,s=0;s<_;++s)(v=e[s])>=t&&v<i&&(i=v);for(i-t>w((u-r)/(b=o+1))&&R("overflow"),r+=(i-t)*b,t=i,s=0;s<_;++s)if((v=e[s])<t&&++r>u&&R("overflow"),v==t){for(c=r,d=l;!(c<(m=d<=a?p:d>=a+f?f:d-a));d+=l)j=c-m,E=l-m,T.push(O(P(m+j%E,0))),c=w(j/E);T.push(O(P(c,0))),a=k(r,b,o==n),r=0,++o}++r,++t}return T.join("")}if(i={version:"1.4.1",ucs2:{decode:x,encode:C},decode:N,encode:M,toASCII:function(e){return S(e,function(e){return _.test(e)?"xn--"+M(e):e})},toUnicode:function(e){return S(e,function(e){return v.test(e)?N(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return i});else if(n&&a)if(t.exports==n)a.exports=i;else for(c in i)i.hasOwnProperty(c)&&(n[c]=i[c]);else o.punycode=i}(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],"/root/repo/node_modules/querystring-es3/decode.js":[function(e,t,r){"use strict";function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,a){t=t||"&",r=r||"=";var s={};if("string"!==typeof e||0===e.length)return s;var i=/\+/g;e=e.split(t);var c=1e3;a&&"number"===typeof a.maxKeys&&(c=a.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var p,f,d,m,h=e[l].replace(i,"%20"),y=h.indexOf(r);y>=0?(p=h.substr(0,y),f=h.substr(y+1)):(p=h,f=""),d=decodeURIComponent(p),m=decodeURIComponent(f),o(s,d)?n(s[d])?s[d].push(m):s[d]=[s[d],m]:s[d]=m}return s};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],"/root/repo/node_modules/querystring-es3/encode.js":[function(e,t,r){"use strict";var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?a(s(e),function(s){var i=encodeURIComponent(o(s))+r;return n(e[s])?a(e[s],function(e){return i+encodeURIComponent(o(e))}).join(t):i+encodeURIComponent(o(e[s]))}).join(t):i?encodeURIComponent(o(i))+r+encodeURIComponent(o(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var r=[],o=0;o<e.length;o++)r.push(t(e[o],o));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],"/root/repo/node_modules/querystring-es3/index.js":[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":"/root/repo/node_modules/querystring-es3/decode.js","./encode":"/root/repo/node_modules/querystring-es3/encode.js"}],"/root/repo/node_modules/react-is/cjs/react-is.development.js":[function(e,t,r){(function(e){"use strict";"production"!==e.env.NODE_ENV&&function(){Object.defineProperty(r,"__esModule",{value:!0});var e="function"===typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,o=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,l=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116;var h=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!e){for(var r=arguments.length,o=Array(r>2?r-2:0),n=2;n<r;n++)o[n-2]=arguments[n];(function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var n=0,a="Warning: "+e.replace(/%s/g,function(){return r[n++]});"undefined"!==typeof console&&console.warn(a);try{throw new Error(a)}catch(e){}}).apply(void 0,[t].concat(o))}};function y(e){if("object"===typeof e&&null!==e){var r=e.$$typeof;switch(r){case t:var h=e.type;switch(h){case u:case l:case n:case s:case a:case f:return h;default:var y=h&&h.$$typeof;switch(y){case c:case p:case i:return y;default:return r}}case m:case d:case o:return r}}}var g=u,v=l,_=c,b=i,E=t,j=p,w=n,O=m,R=d,T=o,S=s,x=a,C=f,P=!1;function k(e){return y(e)===l}r.typeOf=y,r.AsyncMode=g,r.ConcurrentMode=v,r.ContextConsumer=_,r.ContextProvider=b,r.Element=E,r.ForwardRef=j,r.Fragment=w,r.Lazy=O,r.Memo=R,r.Portal=T,r.Profiler=S,r.StrictMode=x,r.Suspense=C,r.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===n||e===l||e===s||e===a||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===d||e.$$typeof===i||e.$$typeof===c||e.$$typeof===p)},r.isAsyncMode=function(e){return P||(P=!0,h(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),k(e)||y(e)===u},r.isConcurrentMode=k,r.isContextConsumer=function(e){return y(e)===c},r.isContextProvider=function(e){return y(e)===i},r.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===t},r.isForwardRef=function(e){return y(e)===p},r.isFragment=function(e){return y(e)===n},r.isLazy=function(e){return y(e)===m},r.isMemo=function(e){return y(e)===d},r.isPortal=function(e){return y(e)===o},r.isProfiler=function(e){return y(e)===s},r.isStrictMode=function(e){return y(e)===a},r.isSuspense=function(e){return y(e)===f}}()}).call(this,e("_process"))},{_process:"/root/repo/node_modules/process/browser.js"}],"/root/repo/node_modules/react-is/cjs/react-is.production.min.js":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"===typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,i=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,u=o?Symbol.for("react.provider"):60109,l=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.async_mode"):60111,f=o?Symbol.for("react.concurrent_mode"):60111,d=o?Symbol.for("react.forward_ref"):60112,m=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116;function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case p:case f:case s:case c:case i:case m:return e;default:switch(e=e&&e.$$typeof){case l:case d:case u:return e;default:return t}}case y:case h:case a:return t}}}function v(e){return g(e)===f}r.typeOf=g,r.AsyncMode=p,r.ConcurrentMode=f,r.ContextConsumer=l,r.ContextProvider=u,r.Element=n,r.ForwardRef=d,r.Fragment=s,r.Lazy=y,r.Memo=h,r.Portal=a,r.Profiler=c,r.StrictMode=i,r.Suspense=m,r.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===f||e===c||e===i||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d)},r.isAsyncMode=function(e){return v(e)||g(e)===p},r.isConcurrentMode=v,r.isContextConsumer=function(e){return g(e)===l},r.isContextProvider=function(e){return g(e)===u},r.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},r.isForwardRef=function(e){return g(e)===d},r.isFragment=function(e){return g(e)===s},r.isLazy=function(e){return g(e)===y},r.isMemo=function(e){return g(e)===h},r.isPortal=function(e){return g(e)===a},r.isProfiler=function(e){return g(e)===c},r.isStrictMode=function(e){return g(e)===i},r.isSuspense=function(e){return g(e)===m}},{}],"/root/repo/node_modules/react-is/index.js":[function(e,t,r){(function(r){"use strict";"production"===r.env.NODE_ENV?t.exports=e("./cjs/react-is.production.min.js"):t.exports=e("./cjs/react-is.development.js")}).call(this,e("_process"))},{"./cjs/react-is.development.js":"/root/repo/node_modules/react-is/cjs/react-is.development.js","./cjs/react-is.production.min.js":"/root/repo/node_modules/react-is/cjs/react-is.production.min.js",_process:"/root/repo/node_modules/process/browser.js"}],"/root/repo/node_modules/react-router/MemoryRouter.js":[function(e,t,r){"use strict";r.__esModule=!0;var o=c(e("warning")),n=c(e("react")),a=c(e("prop-types")),s=e("history"),i=c(e("./Router"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=function(e){function t(){var r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=o=u(this,e.call.apply(e,[this].concat(a))),o.history=(0,s.createMemoryHistory)(o.props),u(o,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){(0,o.default)(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return n.default.createElement(i.default,{history:this.history,children:this.props.children})},t}(n.default.Component);l.propTypes={initialEntries:a.default.array,initialIndex:a.default.number,getUserConfirmation:a.default.func,keyLength:a.default.number,children:a.default.node},r.default=l},{"./Router":"/root/repo/node_modules/react-router/Router.js",history:"history","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react",warning:"/root/repo/node_modules/warning/warning.js"}],"/root/repo/node_modules/react-router/Prompt.js":[function(e,t,r){"use strict";r.__esModule=!0;var o=s(e("react")),n=s(e("prop-types")),a=s(e("invariant"));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){(0,a.default)(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(o.default.Component);i.propTypes={when:n.default.bool,message:n.default.oneOfType([n.default.func,n.default.string]).isRequired},i.defaultProps={when:!0},i.contextTypes={router:n.default.shape({history:n.default.shape({block:n.default.func.isRequired}).isRequired}).isRequired},r.default=i},{invariant:"/root/repo/node_modules/invariant/browser.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react"}],"/root/repo/node_modules/react-router/Redirect.js":[function(e,t,r){"use strict";r.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=l(e("react")),a=l(e("prop-types")),s=l(e("warning")),i=l(e("invariant")),c=e("history"),u=l(e("./generatePath"));function l(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){(0,i.default)(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=(0,c.createLocation)(e.to),r=(0,c.createLocation)(this.props.to);(0,c.locationsAreEqual)(t,r)?(0,s.default)(!1,"You tried to redirect to the same route you're currently on: \""+r.pathname+r.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,r=e.to;return t?"string"===typeof r?(0,u.default)(r,t.params):o({},r,{pathname:(0,u.default)(r.pathname,t.params)}):r},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,r=this.computeTo(this.props);t?e.push(r):e.replace(r)},t.prototype.render=function(){return null},t}(n.default.Component);p.propTypes={computedMatch:a.default.object,push:a.default.bool,from:a.default.string,to:a.default.oneOfType([a.default.string,a.default.object]).isRequired},p.defaultProps={push:!1},p.contextTypes={router:a.default.shape({history:a.default.shape({push:a.default.func.isRequired,replace:a.default.func.isRequired}).isRequired,staticContext:a.default.object}).isRequired},r.default=p},{"./generatePath":"/root/repo/node_modules/react-router/generatePath.js",history:"history",invariant:"/root/repo/node_modules/invariant/browser.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react",warning:"/root/repo/node_modules/warning/warning.js"}],"/root/repo/node_modules/react-router/Route.js":[function(e,t,r){"use strict";r.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=u(e("warning")),a=u(e("invariant")),s=u(e("react")),i=u(e("prop-types")),c=u(e("./matchPath"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){return 0===s.default.Children.count(e)},f=function(e){function t(){var r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=o=l(this,e.call.apply(e,[this].concat(a))),o.state={match:o.computeMatch(o.props,o.context.router)},l(o,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:o({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var r=e.computedMatch,o=e.location,n=e.path,s=e.strict,i=e.exact,u=e.sensitive;if(r)return r;(0,a.default)(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,p=(o||l.location).pathname;return(0,c.default)(p,{path:n,strict:s,exact:i,sensitive:u},l.match)},t.prototype.componentWillMount=function(){(0,n.default)(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),(0,n.default)(!(this.props.component&&this.props.children&&!p(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),(0,n.default)(!(this.props.render&&this.props.children&&!p(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){(0,n.default)(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),(0,n.default)(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,r=t.children,o=t.component,n=t.render,a=this.context.router,i=a.history,c=a.route,u=a.staticContext,l={match:e,location:this.props.location||c.location,history:i,staticContext:u};return o?e?s.default.createElement(o,l):null:n?e?n(l):null:"function"===typeof r?r(l):r&&!p(r)?s.default.Children.only(r):null},t}(s.default.Component);f.propTypes={computedMatch:i.default.object,path:i.default.string,exact:i.default.bool,strict:i.default.bool,sensitive:i.default.bool,component:i.default.func,render:i.default.func,children:i.default.oneOfType([i.default.func,i.default.node]),location:i.default.object},f.contextTypes={router:i.default.shape({history:i.default.object.isRequired,route:i.default.object.isRequired,staticContext:i.default.object})},f.childContextTypes={router:i.default.object.isRequired},r.default=f},{"./matchPath":"/root/repo/node_modules/react-router/matchPath.js",invariant:"/root/repo/node_modules/invariant/browser.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react",warning:"/root/repo/node_modules/warning/warning.js"}],"/root/repo/node_modules/react-router/Router.js":[function(e,t,r){"use strict";r.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=c(e("warning")),a=c(e("invariant")),s=c(e("react")),i=c(e("prop-types"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=function(e){function t(){var r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=o=u(this,e.call.apply(e,[this].concat(a))),o.state={match:o.computeMatch(o.props.history.location.pathname)},u(o,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:o({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,r=t.children,o=t.history;(0,a.default)(null==r||1===s.default.Children.count(r),"A <Router> may have only one child element"),this.unlisten=o.listen(function(){e.setState({match:e.computeMatch(o.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){(0,n.default)(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?s.default.Children.only(e):null},t}(s.default.Component);l.propTypes={history:i.default.object.isRequired,children:i.default.node},l.contextTypes={router:i.default.object},l.childContextTypes={router:i.default.object.isRequired},r.default=l},{invariant:"/root/repo/node_modules/invariant/browser.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react",warning:"/root/repo/node_modules/warning/warning.js"}],"/root/repo/node_modules/react-router/StaticRouter.js":[function(e,t,r){"use strict";r.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=l(e("warning")),a=l(e("invariant")),s=l(e("react")),i=l(e("prop-types")),c=e("history"),u=l(e("./Router"));function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){return"/"===e.charAt(0)?e:"/"+e},d=function(e,t){return e?o({},t,{pathname:f(e)+t.pathname}):t},m=function(e,t){if(!e)return t;var r=f(e);return 0!==t.pathname.indexOf(r)?t:o({},t,{pathname:t.pathname.substr(r.length)})},h=function(e){return"string"===typeof e?e:(0,c.createPath)(e)},y=function(e){return function(){(0,a.default)(!1,"You cannot %s with <StaticRouter>",e)}},g=function(){},v=function(e){function t(){var r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=o=p(this,e.call.apply(e,[this].concat(a))),o.createHref=function(e){return f(o.props.basename+h(e))},o.handlePush=function(e){var t=o.props,r=t.basename,n=t.context;n.action="PUSH",n.location=d(r,(0,c.createLocation)(e)),n.url=h(n.location)},o.handleReplace=function(e){var t=o.props,r=t.basename,n=t.context;n.action="REPLACE",n.location=d(r,(0,c.createLocation)(e)),n.url=h(n.location)},o.handleListen=function(){return g},o.handleBlock=function(){return g},p(o,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){(0,n.default)(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,r=(e.context,e.location),n=function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}(e,["basename","context","location"]),a={createHref:this.createHref,action:"POP",location:m(t,(0,c.createLocation)(r)),push:this.handlePush,replace:this.handleReplace,go:y("go"),goBack:y("goBack"),goForward:y("goForward"),listen:this.handleListen,block:this.handleBlock};return s.default.createElement(u.default,o({},n,{history:a}))},t}(s.default.Component);v.propTypes={basename:i.default.string,context:i.default.object.isRequired,location:i.default.oneOfType([i.default.string,i.default.object])},v.defaultProps={basename:"",location:"/"},v.childContextTypes={router:i.default.object.isRequired},r.default=v},{"./Router":"/root/repo/node_modules/react-router/Router.js",history:"history",invariant:"/root/repo/node_modules/invariant/browser.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react",warning:"/root/repo/node_modules/warning/warning.js"}],"/root/repo/node_modules/react-router/Switch.js":[function(e,t,r){"use strict";r.__esModule=!0;var o=c(e("react")),n=c(e("prop-types")),a=c(e("warning")),s=c(e("invariant")),i=c(e("./matchPath"));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){(0,s.default)(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){(0,a.default)(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),(0,a.default)(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,r=this.props.location||e.location,n=void 0,a=void 0;return o.default.Children.forEach(t,function(t){if(null==n&&o.default.isValidElement(t)){var s=t.props,c=s.path,u=s.exact,l=s.strict,p=s.sensitive,f=s.from,d=c||f;a=t,n=(0,i.default)(r.pathname,{path:d,exact:u,strict:l,sensitive:p},e.match)}}),n?o.default.cloneElement(a,{location:r,computedMatch:n}):null},t}(o.default.Component);u.contextTypes={router:n.default.shape({route:n.default.object.isRequired}).isRequired},u.propTypes={children:n.default.node,location:n.default.object},r.default=u},{"./matchPath":"/root/repo/node_modules/react-router/matchPath.js",invariant:"/root/repo/node_modules/invariant/browser.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react",warning:"/root/repo/node_modules/warning/warning.js"}],"/root/repo/node_modules/react-router/generatePath.js":[function(e,t,r){"use strict";r.__esModule=!0;var o,n=e("path-to-regexp"),a=(o=n)&&o.__esModule?o:{default:o};var s={},i=0;r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:function(e){var t=e,r=s[t]||(s[t]={});if(r[e])return r[e];var o=a.default.compile(e);return i<1e4&&(r[e]=o,i++),o}(e)(t,{pretty:!0})}},{"path-to-regexp":"/root/repo/node_modules/path-to-regexp/index.js"}],"/root/repo/node_modules/react-router/index.js":[function(e,t,r){"use strict";r.__esModule=!0,r.withRouter=r.matchPath=r.generatePath=r.Switch=r.StaticRouter=r.Router=r.Route=r.Redirect=r.Prompt=r.MemoryRouter=void 0;var o=d(e("./MemoryRouter")),n=d(e("./Prompt")),a=d(e("./Redirect")),s=d(e("./Route")),i=d(e("./Router")),c=d(e("./StaticRouter")),u=d(e("./Switch")),l=d(e("./generatePath")),p=d(e("./matchPath")),f=d(e("./withRouter"));function d(e){return e&&e.__esModule?e:{default:e}}r.MemoryRouter=o.default,r.Prompt=n.default,r.Redirect=a.default,r.Route=s.default,r.Router=i.default,r.StaticRouter=c.default,r.Switch=u.default,r.generatePath=l.default,r.matchPath=p.default,r.withRouter=f.default},{"./MemoryRouter":"/root/repo/node_modules/react-router/MemoryRouter.js","./Prompt":"/root/repo/node_modules/react-router/Prompt.js","./Redirect":"/root/repo/node_modules/react-router/Redirect.js","./Route":"/root/repo/node_modules/react-router/Route.js","./Router":"/root/repo/node_modules/react-router/Router.js","./StaticRouter":"/root/repo/node_modules/react-router/StaticRouter.js","./Switch":"/root/repo/node_modules/react-router/Switch.js","./generatePath":"/root/repo/node_modules/react-router/generatePath.js","./matchPath":"/root/repo/node_modules/react-router/matchPath.js","./withRouter":"/root/repo/node_modules/react-router/withRouter.js"}],"/root/repo/node_modules/react-router/matchPath.js":[function(e,t,r){"use strict";r.__esModule=!0;var o,n=e("path-to-regexp"),a=(o=n)&&o.__esModule?o:{default:o};var s={},i=0;r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];"string"===typeof t&&(t={path:t});var o=t,n=o.path,c=o.exact,u=void 0!==c&&c,l=o.strict,p=void 0!==l&&l,f=o.sensitive;if(null==n)return r;var d=function(e,t){var r=""+t.end+t.strict+t.sensitive,o=s[r]||(s[r]={});if(o[e])return o[e];var n=[],c={re:(0,a.default)(e,n,t),keys:n};return i<1e4&&(o[e]=c,i++),c}(n,{end:u,strict:p,sensitive:void 0!==f&&f}),m=d.re,h=d.keys,y=m.exec(e);if(!y)return null;var g=y[0],v=y.slice(1),_=e===g;return u&&!_?null:{path:n,url:"/"===n&&""===g?"/":g,isExact:_,params:h.reduce(function(e,t,r){return e[t.name]=v[r],e},{})}}},{"path-to-regexp":"/root/repo/node_modules/path-to-regexp/index.js"}],"/root/repo/node_modules/react-router/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":[function(e,t,r){"use strict";var o={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,s=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,l=u&&u(Object);t.exports=function e(t,r,p){if("string"!==typeof r){if(l){var f=u(r);f&&f!==l&&e(t,f,p)}var d=s(r);i&&(d=d.concat(i(r)));for(var m=0;m<d.length;++m){var h=d[m];if(!o[h]&&!n[h]&&(!p||!p[h])){var y=c(r,h);try{a(t,h,y)}catch(e){}}}return t}return t}},{}],"/root/repo/node_modules/react-router/withRouter.js":[function(e,t,r){"use strict";r.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=c(e("react")),a=c(e("prop-types")),s=c(e("hoist-non-react-statics")),i=c(e("./Route"));function c(e){return e&&e.__esModule?e:{default:e}}r.default=function(e){var t=function(t){var r=t.wrappedComponentRef,a=function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}(t,["wrappedComponentRef"]);return n.default.createElement(i.default,{children:function(t){return n.default.createElement(e,o({},a,t,{ref:r}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:a.default.func},(0,s.default)(t,e)}},{"./Route":"/root/repo/node_modules/react-router/Route.js","hoist-non-react-statics":"/root/repo/node_modules/react-router/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","prop-types":"/root/repo/node_modules/prop-types/index.js",react:"react"}],"/root/repo/node_modules/url/url.js":[function(e,t,r){"use strict";var o=e("punycode"),n=e("./util");function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=_,r.resolve=function(e,t){return _(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?_(e,!1,!0).resolveObject(t):t},r.format=function(e){n.isString(e)&&(e=_(e));return e instanceof a?e.format():a.prototype.format.call(e)},r.Url=a;var s=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),p=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=e("querystring");function _(e,t,r){if(e&&n.isObject(e)&&e instanceof a)return e;var o=new a;return o.parse(e,t,r),o}a.prototype.parse=function(e,t,r){if(!n.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),i=-1!==a&&a<e.indexOf("#")?"?":"#",u=e.split(i);u[0]=u[0].replace(/\\/g,"/");var _=e=u.join(i);if(_=_.trim(),!r&&1===e.split("#").length){var b=c.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=s.exec(_);if(E){var j=(E=E[0]).toLowerCase();this.protocol=j,_=_.substr(E.length)}if(r||E||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===_.substr(0,2);!w||E&&y[E]||(_=_.substr(2),this.slashes=!0)}if(!y[E]&&(w||E&&!g[E])){for(var O,R,T=-1,S=0;S<f.length;S++){-1!==(x=_.indexOf(f[S]))&&(-1===T||x<T)&&(T=x)}-1!==(R=-1===T?_.lastIndexOf("@"):_.lastIndexOf("@",T))&&(O=_.slice(0,R),_=_.slice(R+1),this.auth=decodeURIComponent(O)),T=-1;for(S=0;S<p.length;S++){var x;-1!==(x=_.indexOf(p[S]))&&(-1===T||x<T)&&(T=x)}-1===T&&(T=_.length),this.host=_.slice(0,T),_=_.slice(T),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var P=this.hostname.split(/\./),k=(S=0,P.length);S<k;S++){var N=P[S];if(N&&!N.match(d)){for(var M="",A=0,I=N.length;A<I;A++)N.charCodeAt(A)>127?M+="x":M+=N[A];if(!M.match(d)){var D=P.slice(0,S),q=P.slice(S+1),F=N.match(m);F&&(D.push(F[1]),q.unshift(F[2])),q.length&&(_="/"+q.join(".")+_),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=o.toASCII(this.hostname));var L=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+L,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!h[j])for(S=0,k=l.length;S<k;S++){var G=l[S];if(-1!==_.indexOf(G)){var V=encodeURIComponent(G);V===G&&(V=escape(G)),_=_.split(G).join(V)}}var W=_.indexOf("#");-1!==W&&(this.hash=_.substr(W),_=_.slice(0,W));var Y=_.indexOf("?");if(-1!==Y?(this.search=_.substr(Y),this.query=_.substr(Y+1),t&&(this.query=v.parse(this.query)),_=_.slice(0,Y)):t&&(this.search="",this.query={}),_&&(this.pathname=_),g[j]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){L=this.pathname||"";var $=this.search||"";this.path=L+$}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",o=this.hash||"",a=!1,s="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var i=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),o&&"#"!==o.charAt(0)&&(o="#"+o),i&&"?"!==i.charAt(0)&&(i="?"+i),t+a+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(i=i.replace("#","%23"))+o},a.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(n.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,o=Object.keys(this),s=0;s<o.length;s++){var i=o[s];r[i]=this[i]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(r[l]=e[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var p=Object.keys(e),f=0;f<p.length;f++){var d=p[f];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||y[e.protocol])r.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),r.pathname=m.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var h=r.pathname||"",v=r.search||"";r.path=h+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=b||_||r.host&&e.pathname,j=E,w=r.pathname&&r.pathname.split("/")||[],O=(m=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(O&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),E=E&&(""===m[0]||""===w[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=m;else if(m.length)w||(w=[]),w.pop(),w=w.concat(m),r.search=e.search,r.query=e.query;else if(!n.isNullOrUndefined(e.search)){if(O)r.hostname=r.host=w.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=e.search,r.query=e.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var R=w.slice(-1)[0],T=(r.host||e.host||w.length>1)&&("."===R||".."===R)||""===R,S=0,x=w.length;x>=0;x--)"."===(R=w[x])?w.splice(x,1):".."===R?(w.splice(x,1),S++):S&&(w.splice(x,1),S--);if(!E&&!j)for(;S--;S)w.unshift("..");!E||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),T&&"/"!==w.join("/").substr(-1)&&w.push("");var C,P=""===w[0]||w[0]&&"/"===w[0].charAt(0);O&&(r.hostname=r.host=P?"":w.length?w.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(E=E||r.host&&w.length)&&!P&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":"/root/repo/node_modules/url/util.js",punycode:"/root/repo/node_modules/punycode/punycode.js",querystring:"/root/repo/node_modules/querystring-es3/index.js"}],"/root/repo/node_modules/url/util.js":[function(e,t,r){"use strict";t.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],"/root/repo/node_modules/warning/warning.js":[function(e,t,r){"use strict";var o=function(){};t.exports=o},{}]},{},["/root/repo/app/scripts/main.js"]);